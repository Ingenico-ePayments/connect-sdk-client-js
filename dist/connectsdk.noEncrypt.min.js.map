{"version":3,"sources":["core.js","promise.js","net.js","Util.js","GooglePay.js","PublicKeyResponse.js","C2SCommunicatorConfiguration.js","IinDetailsResponse.js","C2SCommunicator.js","LabelTemplateElement.js","Attribute.js","AccountOnFileDisplayHints.js","AccountOnFile.js","PaymentProduct302SpecificData.js","PaymentProduct320SpecificData.js","PaymentProduct863SpecificData.js","PaymentProductDisplayHints.js","BasicPaymentProduct.js","BasicPaymentProductGroup.js","MaskedString.js","MaskingUtil.js","ValidationRuleLuhn.js","ValidationRuleExpirationDate.js","ValidationRuleFixedList.js","ValidationRuleLength.js","ValidationRuleRange.js","ValidationRuleRegularExpression.js","ValidationRuleEmailAddress.js","ValidationRuleTermsAndConditions.js","ValidationRuleBoletoBancarioRequiredness.js","ValidationRuleIban.js","ValidationRuleFactory.js","DataRestrictions.js","ValueMappingElement.js","FormElement.js","Tooltip.js","PaymentProductFieldDisplayHints.js","PaymentProductField.js","PaymentProduct.js","PaymentProductGroup.js","BasicPaymentProducts.js","BasicPaymentProductGroups.js","BasicPaymentItems.js","PaymentRequest.js","C2SPaymentProductContext.js","JOSEEncryptor.js","Encryptor.js","session.js"],"names":["global","connectsdk","modules","define","module","dependencies","fn","length","i","apply","this","exports","window","turing","Promise","singleton","self","pending","resolve","result","complete","reject","isSingleton","prototype","then","success","failure","push","type","shift","xhr","XMLHttpRequest","location","protocol","ActiveXObject","e","successfulRequest","request","status","responseText","ajax","url","options","respondToReadyState","readyState","contentType","mimeType","getResponseHeader","response","test","responseJSON","net","parseJSON","responseXML","parseXML","callback","promise","error","setHeaders","defaults","Accept","Content-Type","name","headers","hasOwnProperty","setRequestHeader","send","postBody","chain","method","toLowerCase","asynchronous","onreadystatechange","open","serialize","set","key","value","data","end","arguments","JSONPCallback","runCallback","json","teardown","methodName","parseInt","Date","getTime","trim","s","replace","object","results","encodeURIComponent","join","string","JSON","parse","DOMParser","text","parseFromString","xml","async","loadXML","run","scriptTag","document","createElement","id","src","that","onerror","body","appendChild","removeChild","get","post","jsonp","Util","createInstance","applePayPaymentProductId","googlePayPaymentProductId","bancontactPaymentProductId","getMetadata","screenSize","innerWidth","innerHeight","platformIdentifier","navigator","userAgent","sdkIdentifier","GC","rppEnabledPage","sdkCreator","collectDeviceInformation","timezoneOffsetUtcMinutes","getTimezoneOffset","locale","language","browserData","javaScriptEnabled","javaEnabled","colorDepth","screen","screenHeight","height","screenWidth","width","base64Encode","stringify","o1","o2","o3","h1","h2","h3","h4","bits","b64","ac","enc","tmp_arr","charCodeAt","charAt","r","slice","filterOutProductsThatAreNotSupportedInThisBrowser","paymentProducts","product","paymentProductsThatAreNotSupportedInThisBrowser","indexOf","splice","instance","getInstance","_getGooglePaymentsClient","paymentsClient","googlePayEnvironment","_context","environment","google","payments","api","PaymentsClient","console","prefetchGooglePaymentData","paymentDataRequest","_getGooglePaymentDataRequestForPrefetch","_paymentProductSpecificInputs","googlePay","gatewayMerchantId","merchantName","prefetchPaymentData","warn","_util","_C2SCommunicator","_gateway","_networks","_getBaseCardPaymentMethod","parameters","allowedAuthMethods","allowedCardNetworks","_getTokenizationSpecification","gateway","_getCardPaymentMethod","Object","assign","tokenizationSpecification","_getTransactionInfo","totalPriceStatus","currencyCode","currency","_getMerchantInfo","_getGooglePaymentDataRequest","apiVersion","apiVersionMinor","allowedPaymentMethods","transactionInfo","merchantInfo","GooglePay","C2SCommunicator","isGooglePayAvailable","context","paymentProductSpecificInputs","googlePayData","networks","setTimeout","isReadyToPay","catch","isMerchantIdProvided","merchantId","PublicKeyResponse","keyId","publicKey","C2SCommunicatorConfiguration","sessionDetails","endpoints","PROD","EU","API","ASSETS","US","AMS","PAR","PREPROD","SANDBOX","INTEGRATION","DEV_NAMI","DEV_ISC","clientSessionId","clientSessionID","Error","assetUrl","assetsBaseUrl","clientApiUrl","apiBaseUrl","customerId","region","tester","split","path","IinDetailsResponse","countryCode","paymentProductId","isAllowedInContext","coBrands","Net","c2SCommunicatorConfiguration","paymentProduct","_c2SCommunicatorConfiguration","_cache","_providedPaymentProduct","_GooglePay","_mapType","expirydate","numericstring","integer","expirationDate","formatUrl","endsWith","formatImageUrl","imageUrl","startsWith","prefix","suffix","_cleanJSON","il","fields","field","displayHints","obfuscate","validatorKey","dataRestrictions","validators","formElement","list","tooltip","image","sort","a","b","displayOrder","logo","_extendLogoUrl","postfix","_isPaymentProductInList","_getGooglePayData","paymentProduct320SpecificData","metadata","getBasicPaymentProducts","cacheKeyLocale","cacheBust","cacheKey","totalAmount","isRecurring","urlParameterLocale","res","getBasicPaymentProductGroups","getPaymentProduct","errorId","errors","code","propertyName","message","httpStatusCode","urlParameterlocale","getPaymentProductUrl","bancontact","forceBasicFlow","cleanedJSON","getPaymentProductGroup","paymentProductGroupId","getPaymentProductIdByCreditCardNumber","partialCreditCardNumber","iinDetailsResponse","convertContextToIinDetailsContext","payload","bin","paymentContext","amountOfMoney","amount","accountOnFileId","getPublicKey","publicKeyResponse","getPaymentProductNetworks","getPaymentProductDirectory","convertAmount","source","target","getThirdPartyPaymentStatus","paymentId","getCustomerDetails","constructCacheKeyFromKeyValues","values","transformPaymentProductJSON","LabelTemplateElement","attributeKey","mask","wildcardMask","Attribute","mustWriteReason","_parseJSON","_json","_labelTemplate","_labelTemplateElementByAttributeKey","labelTemplate","l","labelTemplateElement","AccountOnFileDisplayHints","labelTemplateElementByAttributeKey","_attributes","_attributeByKey","attributes","attribute","AccountOnFile","attributeByKey","getMaskedValueByAttributeKey","undefined","MaskingUtil","applyMask","PaymentProduct302SpecificData","PaymentProduct320SpecificData","PaymentProduct863SpecificData","integrationTypes","PaymentProductDisplayHints","label","_paymentProduct","_accountsOnFile","_accountOnFileById","accountsOnFile","accountOnFile","paymentProduct302SpecificData","paymentProduct863SpecificData","BasicPaymentProduct","accountOnFileById","allowsRecurring","allowsTokenization","autoTokenized","maxAmount","minAmount","paymentMethod","mobileIntegrationLevel","usesRedirectionTo3rdParty","paymentProductGroup","BasicPaymentProductGroup","MaskedString","formattedValue","cursorIndex","_fillBuffer","index","offset","buffer","tempMask","valuec","Number","newValue","oldValue","maskc","c","cursor","substring","getMaxLengthBasedOnMask","newLength","removeMask","valueIndex","inMask","ValidationRuleLuhn","errorMessageId","validate","luhnArr","sum","p","o","_validateDateFormat","ValidationRuleExpirationDate","expirationMonth","expirationYear","getMonth","getFullYear","nowWithDay","now","maxExpirationDate","ValidationRuleFixedList","allowedValues","ValidationRuleLength","maxLength","minLength","ValidationRuleRange","maxValue","minValue","isNaN","ValidationRuleRegularExpression","regularExpression","RegExp","ValidationRuleEmailAddress","ValidationRuleTermsAndConditions","ValidationRuleBoletoBancarioRequiredness","fiscalNumberLength","fiscalNumberValue","_sanitizeValue","toUpperCase","_isValidFormat","_toComputedString","d","ValidationRuleIban","block","remainder","ValidationRuleFactory","makeValidator","classType","className","eval","DataRestrictions","isRequired","validationRules","validationRuleByType","_validationRules","_validationRuleByType","validationRuleFactory","validationRule","ValueMappingElement","displayName","FormElement","valueMapping","_valueMapping","Tooltip","PaymentProductFieldDisplayHints","placeholderLabel","preferredInputType","alwaysShow","PaymentProductField","_errorCodes","getErrorCodes","isValid","hasError","maskedValue","validator","applyWildcardMask","_paymentProductFields","_paymentProductFieldById","paymentProductField","PaymentProduct","basicPaymentProduct","paymentProductFields","paymentProductFieldById","PaymentProductGroup","_parseJson","_paymentProducts","_paymentProductById","_paymentProductByAccountOnFileId","aofs","j","jl","aof","BasicPaymentProducts","basicPaymentProducts","basicPaymentProductById","basicPaymentProductByAccountOnFileId","_paymentProductGroups","_paymentProductGroupById","paymentProductGroups","BasicPaymentProductGroups","basicPaymentProductGroups","basicPaymentProductGroupById","_products","_groups","_basicPaymentItems","doRemove","groupId","groupReplaced","productMethod","basicPaymentItems","basicPaymentItem","basicPaymentItemById","BasicPaymentItems","products","groups","PaymentRequest","_fieldValues","_accountOnFile","_tokenize","getErrorMessageIds","allRequiredFieldsPresent","getValue","getAccountOnFile","setValue","paymentProductFieldId","setTokenize","tokenize","getTokenize","concat","getValues","getMaskedValue","getMaskedValues","maskedString","getUnmaskedValues","setPaymentProduct","setAccountOnFile","getClientSessionID","C2SPaymentProductContext","pki","forge","base64UrlEncode","asn1","str","util","encode64","createProtectedHeader","kid","JOSEHeader","alg","decodePemPublicKey","publickeyB64Encoded","publickeyB64Decoded","decode64","buffer2","createBuffer","publickeyObject2","fromDer","publicKeyFromAsn1","encryptContentEncryptionKey","CEK","encrypt","encryptPayload","encKey","initializationVector","cipher","createCipher","start","iv","update","finish","output","bytes","calculateAdditionalAuthenticatedDataLength","encodededProtectedHeader","lengthInBits","putInt32","calculateHMAC","macKey","cipherText","al","putBytes","hmacInput","hmac","create","sha512","digest","JOSEEncryptor","plainTextValues","protectedHeader","random","getBytesSync","CEKKEYLENGTH","encryptedContentEncryptionKey","encodedEncryptedContentEncryptionKey","IVLENGTH","encodededinitializationVector","encodedCipherText","calculatedHmac","authenticationTag","Encryptor","publicKeyResponsePromise","paymentRequest","encryptedString","blob","nonce","bytesToHex","paymentValues","ownValues","getOwnPropertyNames","joseEncryptor","session","_paymentProductId","_paymentRequestPayload","_paymentRequest","_paymentProductGroupId","_paymentProductGroup","_c2sCommunicator","_session","paymentRequestPayload","c2SPaymentProductContext","getBasicPaymentItems","useGroups","getIinDetails","getPaymentRequest","getEncryptor","transformPaymentProductGroupJSON","Session"],"mappings":"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","file":"connectsdk.noEncrypt.min.js","sourcesContent":["(function (global) {\n    var connectsdk = {}, modules = {};\n\n    /* SDK internal function */\n    connectsdk.define = function (module, dependencies, fn) {\n        if (dependencies && dependencies.length) {\n            for (var i = 0; i < dependencies.length; i++) {\n                dependencies[i] = modules[dependencies[i]];\n            }\n        }\n        modules[module] = fn.apply(this, dependencies || []);\n    };\n\n    // Export `connectsdk` based on environment.\n    global.connectsdk = connectsdk;\n\n    if (typeof exports !== 'undefined') {\n        exports.connectsdk = connectsdk;\n    }\n\n    connectsdk.define('connectsdk.core', [], function () {\n        return connectsdk;\n    });\n\n    // use require.js if available otherwise we use our own\n    if (typeof define === 'undefined') {\n        global.define = connectsdk.define;\n    }\n} (typeof window === 'undefined' ? this : window));\n\n// (re)define core\ndefine(\"connectsdk.core\", [], function () {\n    var global = typeof window === 'undefined' ? this : window;\n    var connectsdk = {};\n    global.connectsdk = connectsdk;\n    if (typeof exports !== 'undefined') {\n        exports.connectsdk = connectsdk;\n    }\n    return connectsdk;\n});\n","define('connectsdk.promise', ['connectsdk.core'], function(turing) {\n\tfunction PromiseModule(global) {\n\t\t/**\n\t\t * The Promise class.\n\t\t */\n\t\tfunction Promise(singleton) {\n\t\t\tvar self = this;\n\t\t\tthis.pending = [];\n\n\t\t\t/**\n\t\t\t * Resolves a promise.\n\t\t\t *\n\t\t\t * @param {Object} A value\n\t\t\t */\n\t\t\tthis.resolve = function(result) {\n\t\t\t\tself.complete('resolve', result);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Rejects a promise.\n\t\t\t *\n\t\t\t * @param {Object} A value\n\t\t\t */\n\t\t\tthis.reject = function(result) {\n\t\t\t\tself.complete('reject', result);\n\t\t\t};\n\n\t\t\tif (singleton) {\n\t\t\t\tthis.isSingleton = true;\n\t\t\t}\n\t\t}\n\n\n\t\tPromise.prototype = {\n\t\t\t/**\n\t\t\t * Adds a success and failure handler for completion of this Promise object.\n\t\t\t *\n\t\t\t * @param {Function} success The success handler\n\t\t\t * @param {Function} success The failure handler\n\t\t\t * @returns {Promise} `this`\n\t\t\t */\n\t\t\tthen : function(success, failure) {\n\t\t\t\tthis.pending.push({\n\t\t\t\t\tresolve : success,\n\t\t\t\t\treject : failure\n\t\t\t\t});\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs through each pending 'thenable' based on type (resolve, reject).\n\t\t\t *\n\t\t\t * @param {String} type The thenable type\n\t\t\t * @param {Object} result A value\n\t\t\t */\n\t\t\tcomplete : function(type, result) {\n\t\t\t\twhile (this.pending[0]) {\n\t\t\t\t\tthis.pending.shift()[type](result);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tglobal.Promise = Promise;\n\t}\n\tPromiseModule(connectsdk);\n\n\treturn connectsdk.Promise;\n});","define('connectsdk.net', ['connectsdk.core'], function(connectsdk) {\n  var net = {};\n\n  /**\n    * Ajax request options:\n    *\n    *   - `method`: {String} HTTP method - GET, POST, etc.\n    *   - `success`: {Function} A callback to run when a request is successful\n    *   - `error`: {Function} A callback to run when the request fails\n    *   - `asynchronous`: {Boolean} Defaults to asynchronous\n    *   - `postBody`: {String} The HTTP POST body\n    *   - `contentType`: {String} The content type of the request, default is `application/x-www-form-urlencoded`\n    *\n    */\n\n  /**\n    * Removes leading and trailing whitespace.\n    * @param {String}\n    * @return {String}\n    */\n  var trim = ''.trim\n    ? function(s) { return s.trim(); }\n    : function(s) { return s.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); };\n\n  function xhr() {\n    if (typeof XMLHttpRequest !== 'undefined' && (window.location.protocol !== 'file:' || !window.ActiveXObject)) {\n      return new XMLHttpRequest();\n    } else {\n      try {\n        return new ActiveXObject('Msxml2.XMLHTTP.6.0');\n      } catch(e) { }\n      try {\n        return new ActiveXObject('Msxml2.XMLHTTP.3.0');\n      } catch(e) { }\n      try {\n        return new ActiveXObject('Msxml2.XMLHTTP');\n      } catch(e) { }\n    }\n    return false;\n  }\n\n  function successfulRequest(request) {\n    return (request.status >= 200 && request.status < 300) ||\n        request.status == 304 ||\n        (request.status == 0 && request.responseText);\n  }\n\n  /**\n    * Serialize JavaScript for HTTP requests.\n    *\n    * @param {Object} object An Array or Object\n    * @returns {String} A string suitable for a GET or POST request\n    */\n  net.serialize = function(object) {\n    if (!object) return;\n\n    if (typeof object === 'string') {\n      return object;\n    }\n\n    var results = [];\n    for (var key in object) {\n      results.push(encodeURIComponent(key) + '=' + encodeURIComponent(object[key]));\n    }\n    return results.join('&');\n  };\n\n  /**\n    * JSON.parse support can be inferred using `connectsdk.detect('JSON.parse')`.\n    */\n  //connectsdk.addDetectionTest('JSON.parse', function() {\n  //  return window.JSON && window.JSON.parse;\n  //});\n\n  /**\n    * Parses JSON represented as a string.\n    *\n    * @param {String} string The original string\n    * @returns {Object} A JavaScript object\n    */\n  net.parseJSON = function(string) {\n    if (typeof string !== 'string' || !string) return null;\n    string = trim(string);\n    /*\n    return connectsdk.detect('JSON.parse') ?\n      window.JSON.parse(string) :\n      (new Function('return ' + string))();\n    */\n    return window.JSON.parse(string);\n  };\n\n  /**\n    * Parses XML represented as a string.\n    *\n    * @param {String} string The original string\n    * @returns {Object} A JavaScript object\n    */\n  if (window.DOMParser) {\n    net.parseXML = function(text) {\n      return new DOMParser().parseFromString(text, 'text/xml');\n    };\n  } else {\n    net.parseXML = function(text) {\n      var xml = new ActiveXObject('Microsoft.XMLDOM');\n      xml.async = 'false';\n      xml.loadXML(text);\n      return xml;\n    };\n  }\n\n  /**\n    * Creates an Ajax request.  Returns an object that can be used\n    * to chain calls.  For example:\n    *\n    *      $t.post('/post-test')\n    *        .data({ key: 'value' })\n    *        .end(function(res) {\n    *          assert.equal('value', res.responseText);\n    *        });\n    *\n    *      $t.get('/get-test')\n    *        .set('Accept', 'text/html')\n    *        .end(function(res) {\n    *          assert.equal('Sample text', res.responseText);\n    *        });\n    *\n    * The available chained methods are:\n    *\n    * `set` -- set a HTTP header\n    * `data` -- the postBody\n    * `end` -- send the request over the network, and calls your callback with a `res` object\n    * `send` -- sends the request and calls `data`: `.send({ data: value }, function(res) { });`\n    *\n    * @param {String} The URL to call\n    * @param {Object} Optional settings\n    * @returns {Object} A chainable object for further configuration\n    */\n  function ajax(url, options) {\n    var request = xhr(),\n        promise,\n        then,\n        response = {},\n        chain;\n    if (connectsdk.Promise) {\n      promise = new connectsdk.Promise();\n    }\n\n\n    function respondToReadyState(readyState) {\n      if (request.readyState == 4) {\n        var contentType = request.mimeType || request.getResponseHeader('content-type') || '';\n\n        response.status = request.status;\n        response.responseText = request.responseText;\n        if (/json/.test(contentType)) {\n          response.responseJSON = net.parseJSON(request.responseText);\n        } else if (/xml/.test(contentType)) {\n          response.responseXML = net.parseXML(request.responseText);\n      \t}\n\n        response.success = successfulRequest(request);\n\n        if (options.callback) {\n          return options.callback(response, request);\n        }\n\n        if (response.success) {\n          if (options.success) options.success(response, request);\n          if (promise) promise.resolve(response, request);\n        } else {\n          if (options.error) options.error(response, request);\n          if (promise) promise.reject(response, request);\n        }\n      }\n    }\n\n    // Set the HTTP headers\n    function setHeaders() {\n      var defaults = {\n        'Accept': 'text/javascript, application/json, text/html, application/xml, text/xml, */*',\n        'Content-Type': 'application/json'\n      };\n\n      /**\n       * Merge headers with defaults.\n       */\n      for (var name in defaults) {\n        if (!options.headers.hasOwnProperty(name))\n          options.headers[name] = defaults[name];\n      }\n      for (var name in options.headers) {\n        request.setRequestHeader(name, options.headers[name]);\n      }\n\n    }\n\n    if (typeof options === 'undefined') options = {};\n\n    options.method = options.method ? options.method.toLowerCase() : 'get';\n    options.asynchronous = options.asynchronous || true;\n    options.postBody = options.postBody || '';\n    request.onreadystatechange = respondToReadyState;\n    request.open(options.method, url, options.asynchronous);\n\n    options.headers = options.headers || {};\n    if (options.contentType) {\n      options.headers['Content-Type'] = options.contentType;\n    }\n\n    if (typeof options.postBody !== 'string') {\n      // Serialize JavaScript\n      options.postBody = net.serialize(options.postBody);\n    }\n\n    // setHeaders();\n\n    function send() {\n      try {\n      \tsetHeaders();\n        request.send(options.postBody);\n      } catch (e) {\n        if (options.error) {\n          options.error();\n        }\n      }\n    }\n\n    chain = {\n      set: function(key, value) {\n        options.headers[key] = value;\n        return chain;\n      },\n\n      send: function(data, callback) {\n        options.postBody = net.serialize(data);\n        options.callback = callback;\n        send();\n        return chain;\n      },\n\n      end: function(callback) {\n        options.callback = callback;\n        send();\n        return chain;\n      },\n\n      data: function(data) {\n        options.postBody = net.serialize(data);\n        return chain;\n      },\n\n      then: function() {\n        chain.end();\n        if (promise) promise.then.apply(promise, arguments);\n        return chain;\n      }\n    };\n\n    return chain;\n  }\n\n  function JSONPCallback(url, success, failure) {\n    var self = this;\n    this.url = url;\n    this.methodName = '__connectsdk_jsonp_' + parseInt(new Date().getTime());\n    this.success = success;\n    this.failure = failure;\n\n    function runCallback(json) {\n      self.success(json);\n      self.teardown();\n    }\n\n    window[this.methodName] = runCallback;\n  }\n\n  JSONPCallback.prototype.run = function() {\n    this.scriptTag = document.createElement('script');\n    this.scriptTag.id = this.methodName;\n    this.scriptTag.src = this.url.replace('{callback}', this.methodName);\n    var that = this;\n    this.scriptTag.onerror = function() {\n    \tthat.failure();\n    };\n    document.body.appendChild(this.scriptTag);\n  };\n\n  JSONPCallback.prototype.teardown = function() {\n    window[this.methodName] = null;\n    try {\n    \tdelete window[this.methodName];\n    } catch (e) {}\n    if (this.scriptTag) {\n      document.body.removeChild(this.scriptTag);\n    }\n  };\n\n  /**\n   * An Ajax GET request.\n   *\n   *      $t.get('/get-test')\n   *        .set('Accept', 'text/html')\n   *        .end(function(res) {\n   *          assert.equal('Sample text', res.responseText);\n   *        });\n   *\n   * @param {String} url The URL to request\n   * @param {Object} options The Ajax request options\n   * @returns {Object} A chainable object for further configuration\n   */\n  net.get = function(url, options) {\n    if (typeof options === 'undefined') options = {};\n    options.method = 'get';\n    return ajax(url, options);\n  };\n\n  /**\n   * An Ajax POST request.\n   *\n   *      $t.post('/post-test')\n   *        .data({ key: 'value' })\n   *        .end(function(res) {\n   *          assert.equal('value', res.responseText);\n   *        });\n   *\n   * @param {String} url The URL to request\n   * @param {Object} options The Ajax request options (`postBody` may come in handy here)\n   * @returns {Object} An object for further chaining with promises\n   */\n  net.post = function(url, options) {\n    if (typeof options === 'undefined') options = {};\n    options.method = 'post';\n    return ajax(url, options);\n  };\n\n  /**\n   * A jsonp request.  Example:\n   *\n   *     var url = 'http://feeds.delicious.com/v1/json/';\n   *     url += 'alex_young/javascript?callback={callback}';\n   *\n   *     connectsdk.net.jsonp(url, {\n   *       success: function(json) {\n   *         console.log(json);\n   *       }\n   *     });\n   *\n   * @param {String} url The URL to request\n   */\n  net.jsonp = function(url, options) {\n    if (typeof options === 'undefined') options = {};\n    var callback = new JSONPCallback(url, options.success, options.failure);\n    callback.run();\n  };\n\n  /**\n    * The Ajax methods are mapped to the `connectsdk` object:\n    *\n    *      connectsdk.get();\n    *      connectsdk.post();\n    *      connectsdk.json();\n    *\n    */\n  connectsdk.get = net.get;\n  connectsdk.post = net.post;\n  connectsdk.jsonp = net.jsonp;\n\n  net.ajax = ajax;\n  connectsdk.net = net;\n  return net;\n});","define(\"connectsdk.Util\", [\"connectsdk.core\"], function (connectsdk) {\n\n\t// Create a singleton from Util so the same util function can be used in different modules\n\tvar Util = (function () {\n\t\tvar instance;\n\n\t\tfunction createInstance() {\n\t\t\t// private variables to use in the public methods\n\t\t\tvar applePayPaymentProductId = 302;\n\t\t\tvar googlePayPaymentProductId = 320;\n\t\t\tvar bancontactPaymentProductId = 3012;\n\n\t\t\treturn {\n\t\t\t\tapplePayPaymentProductId: applePayPaymentProductId,\n\t\t\t\tgooglePayPaymentProductId: googlePayPaymentProductId,\n\t\t\t\tbancontactPaymentProductId: bancontactPaymentProductId,\n\t\t\t\tgetMetadata: function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tscreenSize: window.innerWidth + \"x\" + window.innerHeight,\n\t\t\t\t\t\tplatformIdentifier: window.navigator.userAgent,\n\t\t\t\t\t\tsdkIdentifier: ((document.GC && document.GC.rppEnabledPage) ? 'rpp-' : '') + 'JavaScriptClientSDK/v${version}',\n\t\t\t\t\t\tsdkCreator: 'Ingenico'\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tcollectDeviceInformation: function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t\"timezoneOffsetUtcMinutes\": new Date().getTimezoneOffset(),\n\t\t\t\t\t\t\"locale\": navigator.language,\n\t\t\t\t\t\t\"browserData\": {\n\t\t\t\t\t\t\t\"javaScriptEnabled\": true,\n\t\t\t\t\t\t\t\"javaEnabled\": navigator.javaEnabled(),\n\t\t\t\t\t\t\t\"colorDepth\": screen.colorDepth,\n\t\t\t\t\t\t\t\"screenHeight\": screen.height,\n\t\t\t\t\t\t\t\"screenWidth\": screen.width,\n\t\t\t\t\t\t\t\"innerHeight\": window.innerHeight,\n\t\t\t\t\t\t\t\"innerWidth\": window.innerWidth\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tbase64Encode: function (data) {\n\t\t\t\t\tif (typeof data === \"object\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdata = JSON.stringify(data);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow \"data must be either a String or a JSON object\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\t\t\t\t\tvar o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc = '', tmp_arr = [];\n\n\t\t\t\t\tif (!data) {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\n\t\t\t\t\tdo {// pack three octets into four hexets\n\t\t\t\t\t\to1 = data.charCodeAt(i++);\n\t\t\t\t\t\to2 = data.charCodeAt(i++);\n\t\t\t\t\t\to3 = data.charCodeAt(i++);\n\n\t\t\t\t\t\tbits = o1 << 16 | o2 << 8 | o3;\n\n\t\t\t\t\t\th1 = bits >> 18 & 0x3f;\n\t\t\t\t\t\th2 = bits >> 12 & 0x3f;\n\t\t\t\t\t\th3 = bits >> 6 & 0x3f;\n\t\t\t\t\t\th4 = bits & 0x3f;\n\n\t\t\t\t\t\t// use hexets to index into b64, and append result to encoded string\n\t\t\t\t\t\ttmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n\t\t\t\t\t} while (i < data.length);\n\n\t\t\t\t\tenc = tmp_arr.join('');\n\n\t\t\t\t\tvar r = data.length % 3;\n\n\t\t\t\t\treturn (r ? enc.slice(0, r - 3) : enc) + '==='.slice(r || 3);\n\t\t\t\t},\n\t\t\t\tfilterOutProductsThatAreNotSupportedInThisBrowser: function (json) {\n\t\t\t\t\tfor (var i = json.paymentProducts.length - 1, il = 0; i >= il; i--) {\n\t\t\t\t\t\tvar product = json.paymentProducts[i];\n\t\t\t\t\t\tif (product && this.paymentProductsThatAreNotSupportedInThisBrowser.indexOf(product.id) > -1) {\n\t\t\t\t\t\t\tjson.paymentProducts.splice(i, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpaymentProductsThatAreNotSupportedInThisBrowser: [applePayPaymentProductId]\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tgetInstance: function () {\n\t\t\t\tif (!instance) {\n\t\t\t\t\tinstance = createInstance();\n\t\t\t\t}\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t};\n\t})();\n\n\tconnectsdk.Util = Util;\n\treturn Util;\n});\n","define(\"connectsdk.GooglePay\", [\"connectsdk.core\", \"connectsdk.promise\", \"connectsdk.Util\"], function (connectsdk, Promise, Util) {\n\n    var _util = Util.getInstance();\n    var _C2SCommunicator = null;\n    var _paymentProductSpecificInputs = null;\n    var _context = null;\n    var _gateway = null;\n    var _networks = null;\n    var paymentsClient = null;\n\n    // Only base is needed to trigger isReadyToPay\n    var _getBaseCardPaymentMethod = function () {\n        return {\n            type: 'CARD',\n            parameters: {\n                allowedAuthMethods: [\"PAN_ONLY\", \"CRYPTOGRAM_3DS\"],\n                allowedCardNetworks: _networks\n            }\n        }\n    };\n\n    var _getTokenizationSpecification = function () {\n        return {\n            type: 'PAYMENT_GATEWAY',\n            parameters: {\n                'gateway': _gateway,\n                'gatewayMerchantId': _paymentProductSpecificInputs.googlePay.gatewayMerchantId\n            }\n        }\n    };\n\n    // To prefetch payment data we need base + tokenizationSpecification\n    var _getCardPaymentMethod = function () {\n        return Object.assign(\n            {},\n            _getBaseCardPaymentMethod(),\n            {\n                tokenizationSpecification: _getTokenizationSpecification()\n            }\n        );\n    };\n\n    var _getTransactionInfo = function () {\n        return {\n            \"totalPriceStatus\": \"NOT_CURRENTLY_KNOWN\",\n            \"currencyCode\": _context.currency\n        };\n    };\n\n    var _getMerchantInfo = function () {\n        return {\n            \"merchantName\": _paymentProductSpecificInputs.googlePay.merchantName\n        };\n    };\n\n    var _getGooglePaymentDataRequest = function () {\n        return {\n            apiVersion: 2,\n            apiVersionMinor: 0,\n            allowedPaymentMethods: [_getBaseCardPaymentMethod()]\n        };\n    };\n\n    var _getGooglePaymentDataRequestForPrefetch = function () {\n        // transactionInfo must be set but does not affect cache\n        return {\n            apiVersion: 2,\n            apiVersionMinor: 0,\n            allowedPaymentMethods: [_getCardPaymentMethod()],\n            transactionInfo: _getTransactionInfo(),\n            merchantInfo: _getMerchantInfo()\n        };\n    };\n\n    function _getGooglePaymentsClient() {\n        if (paymentsClient === null) {\n            var googlePayEnvironment = 'TEST';\n            if (_context.environment === 'PROD') {\n                googlePayEnvironment = 'PROD';\n            }\n            if (window.google) {\n                paymentsClient = new google.payments.api.PaymentsClient({environment: googlePayEnvironment});\n            } else {\n                console.error(\"The Google Pay API script was not loaded https://developers.google.com/pay/api/web/guides/tutorial#js-load\");\n            }\n        }\n        return paymentsClient;\n    }\n\n    /**\n     * Prefetch payment data to improve performance\n     *\n     * @see {@link https://developers.google.com/pay/api/web/reference/client#prefetchPaymentData|prefetchPaymentData()}\n     */\n    function prefetchGooglePaymentData() {\n        var paymentDataRequest = _getGooglePaymentDataRequestForPrefetch();\n\n        var paymentsClient = _getGooglePaymentsClient();\n\n        // Prefetching is only effective when all information is provided\n        if (_paymentProductSpecificInputs.googlePay.gatewayMerchantId &&\n            _paymentProductSpecificInputs.googlePay.merchantName) {\n            paymentsClient.prefetchPaymentData(paymentDataRequest);\n        } else {\n            console.warn(\"Prefetching payment data was not triggered because of missing information. \" +\n                \"gatewayMerchantId: \" + _paymentProductSpecificInputs.googlePay.gatewayMerchantId +\n                \", merchantName: \" + _paymentProductSpecificInputs.googlePay.merchantName)\n        }\n    }\n\n    var GooglePay = function (C2SCommunicator) {\n        _C2SCommunicator = C2SCommunicator;\n        this.isGooglePayAvailable = function (context, paymentProductSpecificInputs, googlePayData) {\n            _context = context;\n            _paymentProductSpecificInputs = paymentProductSpecificInputs;\n            if (googlePayData && googlePayData.networks) {\n                _gateway = googlePayData.gateway;\n                _networks = googlePayData.networks;\n            } else {\n                _gateway = \"ingenicoglobalcollect\";\n                _networks = googlePayData;\n            }\n            var promise = new Promise();\n            // This setTimeout is essential to make the following (not fully asynchronous) code work in a promise way in all scenarios. (not needed in happy flow)\n            // The SDK has it's only PolyFill for the promise which is not feature complete.\n            setTimeout(function () {\n                if (_networks && _networks.length > 0) {\n                    var paymentsClient = _getGooglePaymentsClient();\n                    if (!paymentsClient) {\n                        _util.paymentProductsThatAreNotSupportedInThisBrowser.push(_util.googlePayPaymentProductId);\n                        promise.reject(\"The Google Pay API script was not loaded https://developers.google.com/pay/api/web/guides/tutorial#js-load\");\n                    } else {\n                        paymentsClient.isReadyToPay(_getGooglePaymentDataRequest())\n                            .then(function (response) {\n                                promise.resolve(response);\n\n                                prefetchGooglePaymentData();\n                            })\n                            .catch(function () {\n                                _util.paymentProductsThatAreNotSupportedInThisBrowser.push(_util.googlePayPaymentProductId);\n                                promise.reject('failed to run isReadyToPay() with Google Pay API');\n                            });\n                    }\n                } else {\n                    _util.paymentProductsThatAreNotSupportedInThisBrowser.push(_util.googlePayPaymentProductId);\n                    promise.reject('There are no product networks available');\n                }\n            }, 0);\n            return promise;\n        };\n\n        this.isMerchantIdProvided = function (paymentProductSpecificInputs) {\n            if (paymentProductSpecificInputs.googlePay.merchantId) {\n                return paymentProductSpecificInputs.googlePay.merchantId;\n            } else {\n                _util.paymentProductsThatAreNotSupportedInThisBrowser.push(_util.googlePayPaymentProductId);\n                return false;\n            }\n        }\n    };\n    connectsdk.GooglePay = GooglePay;\n    return GooglePay;\n});\n","define(\"connectsdk.PublicKeyResponse\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar PublicKeyResponse = function(json) {\n\t\tthis.json = json;\n\t\tthis.keyId = json.keyId;\n\t\tthis.publicKey = json.publicKey;\n\t};\n\n\tconnectsdk.PublicKeyResponse = PublicKeyResponse;\n\treturn PublicKeyResponse;\n});","define(\"connectsdk.C2SCommunicatorConfiguration\", [\"connectsdk.core\"], function (connectsdk) {\n\n    var C2SCommunicatorConfiguration = function (sessionDetails, apiVersion) {\n        this.endpoints = {\n            PROD: {\n                EU: {\n                    API: \"https://ams1.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay1.secured-by-ingenico.com\"\n                },\n                US: {\n                    API: \"https://us.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay2.secured-by-ingenico.com\"\n                },\n                AMS: {\n                    API: \"https://ams2.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay3.secured-by-ingenico.com\"\n                },\n                PAR: {\n                    API: \"https://par.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay4.secured-by-ingenico.com\"\n                }\n            },\n            PREPROD: {\n                EU: {\n                    API: \"https://ams1.preprod.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay1.preprod.secured-by-ingenico.com\"\n                },\n                US: {\n                    API: \"https://us.preprod.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay2.preprod.secured-by-ingenico.com\"\n                },\n                AMS: {\n                    API: \"https://ams2.preprod.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay3.preprod.secured-by-ingenico.com\"\n                },\n                PAR: {\n                    API: \"https://par-preprod.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay4.preprod.secured-by-ingenico.com\"\n                }\n            },\n            SANDBOX: {\n                EU: {\n                    API: \"https://ams1.sandbox.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay1.sandbox.secured-by-ingenico.com\"\n                },\n                US: {\n                    API: \"https://us.sandbox.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay2.sandbox.secured-by-ingenico.com\"\n                },\n                AMS: {\n                    API: \"https://ams2.sandbox.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay3.sandbox.secured-by-ingenico.com\"\n                },\n                PAR: {\n                    API: \"https://par.sandbox.api-ingenico.com/client/v1\",\n                    ASSETS: \"https://assets.pay4.sandbox.secured-by-ingenico.com\"\n                }\n            }\n\n            // Non public settings. Only needed in GC development environment. Do not use\n            // these, they will not work outside GC.\n            ,\n            INTEGRATION: {\n                EU: {\n                    API: \"https://int-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.int-test-rpp.gcsip.nl:4443\"\n                },\n                US: {\n                    API: \"https://int-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.int-test-rpp.gcsip.nl:4443\"\n                },\n                AMS: {\n                    API: \"https://int-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.int-test-rpp.gcsip.nl:4443\"\n                },\n                PAR: {\n                    API: \"https://int-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.int-test-rpp.gcsip.nl:4443\"\n                }\n            },\n            DEV_NAMI: {\n                EU: {\n                    API: \"https://nami-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.nami-test-rpp.gcsip.nl:4443\"\n                },\n                US: {\n                    API: \"https://nami-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.nami-test-rpp.gcsip.nl:4443\"\n                },\n                AMS: {\n                    API: \"https://nami-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.nami-test-rpp.gcsip.nl:4443\"\n                },\n                PAR: {\n                    API: \"https://nami-test-api.gcsip.nl:4443/client/v1\",\n                    ASSETS: \"https://assets.nami-test-rpp.gcsip.nl:4443\"\n                }\n            },\n            DEV_ISC: {\n                EU: {\n                    API: \"//api.gc-dev.isaac.local/client/v1\",\n                    ASSETS: \"//rpp.gc-dev.isaac.local\"\n                },\n                US: {\n                    API: \"//api.gc-ci-dev.isaac.local/client/v1\",\n                    ASSETS: \"//rpp.gc-ci-dev.isaac.local\"\n                },\n                AMS: {\n                    API: \"//api.gc-dev.isaac.local/client/v1\",\n                    ASSETS: \"//rpp.gc-dev.isaac.local\"\n                },\n                PAR: {\n                    API: \"//api.gc-dev.isaac.local/client/v1\",\n                    ASSETS: \"//rpp.gc-dev.isaac.local\"\n                }\n            }\n        };\n\n        // clientSessionID, assetBaseUrl and apiBaseUrl are deprecated but still may be used. Here we check for presense of new variables, if they dont exist... Use the old variables.\n        if (!sessionDetails.clientSessionId) {\n            sessionDetails.clientSessionId = sessionDetails.clientSessionID;\n        } else if (sessionDetails.clientSessionID) {\n            throw new Error(\"You cannot use both the clientSessionId and the clientSessionID at the same time, please use the clientSessionId only.\");\n        }\n        if (!sessionDetails.assetUrl) {\n            sessionDetails.assetUrl = sessionDetails.assetsBaseUrl\n        } else if (sessionDetails.assetsBaseUrl) {\n            throw new Error(\"You cannot use both the assetUrl and the assetsBaseUrl at the same time, please use the assetUrl only.\");\n        }\n        if (!sessionDetails.clientApiUrl) {\n            sessionDetails.clientApiUrl = sessionDetails.apiBaseUrl\n        } else if (sessionDetails.apiBaseUrl) {\n            throw new Error(\"You cannot use both the clientApiUrl and the apiBaseUrl at the same time, please use the clientApiUrl only.\");\n        }\n\n        this.clientSessionId = sessionDetails.clientSessionId;\n        this.customerId = sessionDetails.customerId;\n\n        // can be removed in a newer version of the SDK from this line\n        if (sessionDetails.region && !sessionDetails.clientApiUrl) {\n            // use regions; old stuff\n            console.warn(\"Using regions is deprecated, switch to clientApiUrl\");\n            this.clientApiUrl = this.endpoints[sessionDetails.environment][sessionDetails.region].API;\n            this.assetUrl = this.endpoints[sessionDetails.environment][sessionDetails.region].ASSETS;\n        } else {\n            // till this line; normal behaviour is below\n            // ignore the region here\n            this.clientApiUrl = sessionDetails.clientApiUrl;\n            this.assetUrl = sessionDetails.assetUrl;\n            if (!this.clientApiUrl) {\n                throw new Error(\"This version of the connectSDK requires an clientApiUrl, which you did not provide.\");\n            }\n            if (!this.assetUrl) {\n                throw new Error(\"This version of the connectSDK requires an assetUrl, which you did not provide.\");\n            }\n\n            // now that the clientApiUrl is set check when if the api version is set in the URL, its the correct version break if not.\n            if (this.clientApiUrl.indexOf(\"//\") === -1) {\n                throw new Error(\"A valid URL is required for the clientApiUrl, you provided '\" + this.clientApiUrl + \"'\");\n            }\n            var tester = this.clientApiUrl.split(\"/\"); // [0] = (http(s): || \"\") , [1] = \"\", [2] = \"host:port\", [3+] = path\n            if (tester[0] !== \"\" && tester[0].indexOf(\"http\") !== 0) {\n                throw new Error(\"A valid URL is required for the clientApiUrl, you provided '\" + this.clientApiUrl + \"'\");\n            }\n            // if you cannot provide an URL that starts with (http(s)::)// and want an error: please provide a PR :)\n\n            var path = tester.splice(3).join(\"/\"); // the path (if no path; path = \"\").\n            if (!path) { //If path == \"\"\n                this.clientApiUrl += \"/\" + apiVersion;\n            } else if (path === 'client') { //If path == client\n                this.clientApiUrl += \"/\" + apiVersion.split('/')[1];\n            } else if (path.indexOf(apiVersion) !== 0 || path.length !== apiVersion.length) {\n                throw new Error(\"This version of the connectSDK is only compatible with \" + apiVersion + \", you supplied: '\" + path + \"'\");\n            }\n        }\n    };\n    connectsdk.C2SCommunicatorConfiguration = C2SCommunicatorConfiguration;\n    return C2SCommunicatorConfiguration;\n});","define(\"connectsdk.IinDetailsResponse\", [\"connectsdk.core\", \"connectsdk.promise\"], function(connectsdk, Promise) {\n\n\tvar IinDetailsResponse = function () {\n\t\tthis.status = '';\n\t\tthis.countryCode = '';\n\t\tthis.paymentProductId = '';\n\t\tthis.isAllowedInContext = '';\n\t\tthis.coBrands = [];\n\t};\n\tconnectsdk.IinDetailsResponse = IinDetailsResponse;\n\treturn IinDetailsResponse;\n});","define(\"connectsdk.C2SCommunicator\", [\"connectsdk.core\", \"connectsdk.promise\", \"connectsdk.net\", \"connectsdk.Util\", \"connectsdk.PublicKeyResponse\", \"connectsdk.IinDetailsResponse\", \"connectsdk.GooglePay\"], function (connectsdk, Promise, Net, Util, PublicKeyResponse, IinDetailsResponse, GooglePay) {\n\tvar C2SCommunicator = function (c2SCommunicatorConfiguration, paymentProduct) {\n\t\tvar _c2SCommunicatorConfiguration = c2SCommunicatorConfiguration;\n\t\tvar _util = Util.getInstance();\n\t\tvar _cache = {};\n\t\tvar _providedPaymentProduct = paymentProduct;\n\t\tvar that = this;\n\t\tvar _GooglePay = new GooglePay(that);\n\n\t\tvar _mapType = {\n\t\t\t\"expirydate\": \"tel\",\n\t\t\t\"string\": \"text\",\n\t\t\t\"numericstring\": \"tel\",\n\t\t\t\"integer\": \"number\",\n\t\t\t\"expirationDate\": \"tel\"\n\t\t};\n\n\t\tvar formatUrl = function (url) {\n\t\t\treturn (url && endsWith(url, '/')) ? url : url + '/';\n\t\t};\n\n\t\tvar formatImageUrl = function(url, imageUrl) {\n\t\t\turl = formatUrl(url);\n\t\t\t// _cleanJSON can be called multiple times with the same data (which is cached between calls).\n\t\t\t// Don't prepend the url after the first time.\n\t\t\tif (startsWith(imageUrl, url)) {\n\t\t\t\treturn imageUrl;\n\t\t\t}\n\t\t\treturn url + imageUrl;\n\t\t};\n\n\t\tvar startsWith = function(string, prefix) {\n\t\t\treturn string.indexOf(prefix) === 0;\n\t\t};\n\n\t\tvar endsWith = function(string, suffix) {\n\t\t\treturn string.indexOf(suffix, string.length - suffix.length) !== -1;\n\t\t};\n\n\t\tvar _cleanJSON = function (json, url) {\n\t\t\tfor (var i = 0, il = json.fields.length; i < il; i++) {\n\t\t\t\tvar field = json.fields[i];\n\t\t\t\tfield.type = (field.displayHints && field.displayHints.obfuscate) ? \"password\" : _mapType[field.type];\n\n\t\t\t\t// helper code for templating tools like Handlebars\n\t\t\t\tfor (validatorKey in field.dataRestrictions.validators) {\n\t\t\t\t\tfield.validators = field.validators || [];\n\t\t\t\t\tfield.validators.push(validatorKey);\n\t\t\t\t}\n\t\t\t\tif (field.displayHints && field.displayHints.formElement && field.displayHints.formElement.type === 'list') {\n\t\t\t\t\tfield.displayHints.formElement.list = true;\n\t\t\t\t}\n\n\t\t\t\t// full image paths\n\t\t\t\tif (field.displayHints && field.displayHints.tooltip && field.displayHints.tooltip.image) {\n\t\t\t\t\tfield.displayHints.tooltip.image = formatImageUrl(url, field.displayHints.tooltip.image);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// The server orders in a different way, so we apply the sortorder\n\t\t\tjson.fields.sort(function (a, b) {\n\t\t\t\tif (a.displayHints.displayOrder < b.displayHints.displayOrder) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 1;\n\t\t\t});\n\t\t\t// set full image path\n\t\t\tjson.displayHints.logo = formatImageUrl(url, json.displayHints.logo);\n\t\t\treturn json;\n\t\t};\n\n\t\tvar _extendLogoUrl = function (json, url, postfix) {\n\t\t\tfor (var i = 0, il = json[\"paymentProduct\" + postfix].length; i < il; i++) {\n\t\t\t\tvar product = json[\"paymentProduct\" + postfix][i];\n\t\t\t\tproduct.displayHints.logo = formatImageUrl(url, product.displayHints.logo);\n\t\t\t}\n\t\t\tjson[\"paymentProduct\" + postfix].sort(function (a, b) {\n\t\t\t\tif (a.displayHints.displayOrder < b.displayHints.displayOrder) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 1;\n\t\t\t});\n\t\t\treturn json;\n\t\t};\n\n\t\tvar _isPaymentProductInList = function (list, paymentProductId) {\n\t\t\tfor (var i = list.length - 1, il = 0; i >= il; i--) {\n\t\t\t\tvar product = list[i];\n\t\t\t\tif (product && (product.id === paymentProductId)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n        var _getGooglePayData = function (list, paymentProductId) {\n            for (var i = list.length - 1, il = 0; i >= il; i--) {\n                var product = list[i];\n                if (product && (product.id === paymentProductId)) {\n                    return product.paymentProduct320SpecificData;\n                }\n            }\n            return false;\n        };\n\n\t\tvar metadata = _util.getMetadata();\n\n\t\tthis.getBasicPaymentProducts = function (context, paymentProductSpecificInputs) {\n\t\t\tvar cacheKeyLocale= context.locale ? context.locale + \"_\" : '';\n\t\t\tpaymentProductSpecificInputs = paymentProductSpecificInputs || {};\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheBust = new Date().getTime()\n\t\t\t\t, cacheKey = \"getPaymentProducts-\" + context.totalAmount + \"_\" + context.countryCode + \"_\"\n\t\t\t\t\t+ cacheKeyLocale + context.isRecurring + \"_\" + context.currency + \"_\" + JSON.stringify(paymentProductSpecificInputs);\n\n\t\t\tif (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tvar urlParameterLocale = context.locale ? \"&locale=\" + context.locale: '';\n\t\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId\n\t\t\t\t\t+ \"/products\" + \"?countryCode=\" + context.countryCode + \"&isRecurring=\" + context.isRecurring\n\t\t\t\t\t+ \"&amount=\" + context.totalAmount + \"&currencyCode=\" + context.currency\n\t\t\t\t\t+ \"&hide=fields\" + urlParameterLocale + \"&cacheBust=\" + cacheBust)\n\t\t\t\t\t.set('X-GCS-ClientMetaInfo', _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\tvar json = _extendLogoUrl(res.responseJSON, _c2SCommunicatorConfiguration.assetUrl, \"s\");\n\t\t\t\t\t\t\tif (_isPaymentProductInList(json.paymentProducts, _util.googlePayPaymentProductId)) {\n\t\t\t\t\t\t\t\tif (_GooglePay.isMerchantIdProvided(paymentProductSpecificInputs)) {\n\t\t\t\t\t\t\t\t\tvar googlePayData = _getGooglePayData(json.paymentProducts, _util.googlePayPaymentProductId);\n\t\t\t\t\t\t\t\t\t_GooglePay.isGooglePayAvailable(context, paymentProductSpecificInputs, googlePayData).then(function (isGooglePayAvailable) {\n\t\t\t\t\t\t\t\t\t\t_util.filterOutProductsThatAreNotSupportedInThisBrowser(json);\n\t\t\t\t\t\t\t\t\t\tif (json.paymentProducts.length === 0) {\n\t\t\t\t\t\t\t\t\t\t\tpromise.reject('No payment products available');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t_cache[cacheKey] = json;\n\t\t\t\t\t\t\t\t\t\tpromise.resolve(json);\n\t\t\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t\t\t_util.filterOutProductsThatAreNotSupportedInThisBrowser(json);\n\t\t\t\t\t\t\t\t\t\tif (json.paymentProducts.length === 0) {\n\t\t\t\t\t\t\t\t\t\t\tpromise.reject('No payment products available');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t_cache[cacheKey] = json;\n\t\t\t\t\t\t\t\t\t\tpromise.resolve(json);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t//GooglePay does not have merchantId\n\t\t\t\t\t\t\t\t\t_util.filterOutProductsThatAreNotSupportedInThisBrowser(json);\n\t\t\t\t\t\t\t\t\tconsole.warn('You have not provided a merchantId for Google Pay, you can set this in the paymentProductSpecificInputs object');\n\t\t\t\t\t\t\t\t\tpromise.resolve(json);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_util.filterOutProductsThatAreNotSupportedInThisBrowser(json);\n\t\t\t\t\t\t\t\tif (json.paymentProducts.length === 0) {\n\t\t\t\t\t\t\t\t\tpromise.reject('No payment products available');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t_cache[cacheKey] = json;\n\t\t\t\t\t\t\t\tpromise.resolve(json);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject('failed to retrieve Basic Payment Products', res);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getBasicPaymentProductGroups = function (context) {\n\t\t\tvar cacheKeyLocale = context.locale ? context.locale + \"_\" : '';\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheBust = new Date().getTime()\n\t\t\t\t, cacheKey = \"getPaymentProductGroups-\" + context.totalAmount + \"_\" + context.countryCode + \"_\"\n\t\t\t\t\t+ cacheKeyLocale + context.isRecurring + \"_\" + context.currency;\n\n\t\t\tif (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tvar urlParameterLocale = context.locale ? \"&locale=\" + context.locale: '';\n\t\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId\n\t\t\t\t\t+ \"/productgroups\" + \"?countryCode=\" + context.countryCode + \"&isRecurring=\" + context.isRecurring\n\t\t\t\t\t+ \"&amount=\" + context.totalAmount + \"&currencyCode=\" + context.currency\n\t\t\t\t\t+ \"&hide=fields\" + urlParameterLocale + \"&cacheBust=\" + cacheBust)\n\t\t\t\t\t.set('X-GCS-ClientMetaInfo', _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\tvar json = _extendLogoUrl(res.responseJSON, _c2SCommunicatorConfiguration.assetUrl, \"Groups\");\n\t\t\t\t\t\t\t_cache[cacheKey] = json;\n\t\t\t\t\t\t\tpromise.resolve(json);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProduct = function (paymentProductId, context, paymentProductSpecificInputs) {\n\t\t\tpaymentProductSpecificInputs = paymentProductSpecificInputs || {};\n\t\t\tvar cacheKeyLocale = context.locale ? context.locale + \"_\" : '';\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheBust = new Date().getTime()\n\t\t\t\t, cacheKey = \"getPaymentProduct-\" + paymentProductId + \"_\" + context.totalAmount + \"_\"\n\t\t\t\t\t+ context.countryCode + \"_\" + cacheKeyLocale + context.isRecurring + \"_\"\n\t\t\t\t\t+ context.currency + \"_\" + JSON.stringify(paymentProductSpecificInputs);\n\t\t\tif (_util.paymentProductsThatAreNotSupportedInThisBrowser.indexOf(paymentProductId) > -1) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.reject({\n\t\t\t\t\t\t\"errorId\": \"48b78d2d-1b35-4f8b-92cb-57cc2638e901\",\n\t\t\t\t\t\t\"errors\": [{\n\t\t\t\t\t\t\t\"code\": \"1007\",\n\t\t\t\t\t\t\t\"propertyName\": \"productId\",\n\t\t\t\t\t\t\t\"message\": \"UNKNOWN_PRODUCT_ID\",\n\t\t\t\t\t\t\t\"httpStatusCode\": 404\n\t\t\t\t\t\t}]\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tif (_providedPaymentProduct && _providedPaymentProduct.id === paymentProductId) {\n\t\t\t\t\tif (!_cache[cacheKey]) {\n\t\t\t\t\t\t_cache[cacheKey] = _cleanJSON(_providedPaymentProduct, _c2SCommunicatorConfiguration.assetUrl);\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t\t}, 0);\n\t\t\t\t} else if (_cache[cacheKey]) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t\t}, 0);\n\t\t\t\t} else {\n\t\t\t\t\tvar urlParameterlocale = context.locale ? \"&locale=\" + context.locale: '';\n\t\t\t\t\tvar getPaymentProductUrl = formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId\n\t\t\t\t\t\t+ \"/products/\" + paymentProductId + \"?countryCode=\" + context.countryCode\n\t\t\t\t\t\t+ \"&isRecurring=\" + context.isRecurring + \"&amount=\" + context.totalAmount\n\t\t\t\t\t\t+ \"&currencyCode=\" + context.currency + urlParameterlocale;\n\n\t\t\t\t\tif ((paymentProductId === _util.bancontactPaymentProductId) &&\n\t\t\t\t\tpaymentProductSpecificInputs &&\n\t\t\t\t\tpaymentProductSpecificInputs.bancontact &&\n\t\t\t\t\tpaymentProductSpecificInputs.bancontact.forceBasicFlow) {\n\t\t\t\t\t\t// Add query parameter to products call to force basic flow for bancontact\n\t\t\t\t\t\tgetPaymentProductUrl += \"&forceBasicFlow=\" + paymentProductSpecificInputs.bancontact.forceBasicFlow\n\t\t\t\t\t}\n\n\t\t\t\t\tgetPaymentProductUrl += \"&cacheBust=\" + cacheBust;\n\n\t\t\t\t\tNet.get(getPaymentProductUrl)\n\t\t\t\t\t\t.set('X-GCS-ClientMetaInfo', _util.base64Encode(metadata))\n\t\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t\tvar cleanedJSON = _cleanJSON(res.responseJSON, c2SCommunicatorConfiguration.assetUrl);\n\t\t\t\t\t\t\t\tif (paymentProductId === _util.googlePayPaymentProductId) {\n\t\t\t\t\t\t\t\t\tif (_GooglePay.isMerchantIdProvided(paymentProductSpecificInputs)) {\n                                        var networks = cleanedJSON.paymentProduct320SpecificData.networks;\n\t\t\t\t\t\t\t\t\t\t_GooglePay.isGooglePayAvailable(context, paymentProductSpecificInputs, networks).then(function (isGooglePayAvailable) {\n\t\t\t\t\t\t\t\t\t\t\tif (isGooglePayAvailable) {\n\t\t\t\t\t\t\t\t\t\t\t\t_cache[cacheKey] = cleanedJSON;\n\t\t\t\t\t\t\t\t\t\t\t\tpromise.resolve(cleanedJSON);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t_cache[cacheKey] = cleanedJSON;\n\t\t\t\t\t\t\t\t\t\t\t\t//_isGooglePayAvailable returned false so google pay is not available, so reject getPaymentProduct\n\t\t\t\t\t\t\t\t\t\t\t\tpromise.reject(cleanedJSON);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t\t\t\t_cache[cacheKey] = cleanedJSON;\n\t\t\t\t\t\t\t\t\t\t\t//_isGooglePayAvailable rejected so not available\n\t\t\t\t\t\t\t\t\t\t\tpromise.reject(cleanedJSON);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t_cache[cacheKey] = cleanedJSON;\n\t\t\t\t\t\t\t\t\t\t// merchantId is not provided so reject\n\t\t\t\t\t\t\t\t\t\tpromise.reject(cleanedJSON);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_cache[cacheKey] = cleanedJSON;\n\t\t\t\t\t\t\t\t\tpromise.resolve(cleanedJSON);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpromise.reject('failed to retrieve Payment Product', res);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProductGroup = function (paymentProductGroupId, context) {\n\t\t\tvar cacheKeyLocale = context.locale ? context.locale + \"_\" : '';\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheBust = new Date().getTime()\n\t\t\t\t, cacheKey = \"getPaymentProductGroup-\" + paymentProductGroupId + \"_\" + context.totalAmount + \"_\"\n\t\t\t\t\t+ context.countryCode + \"_\" + cacheKeyLocale + context.isRecurring + \"_\"\n\t\t\t\t\t+ context.currency;\n\t\t\tif (_providedPaymentProduct && _providedPaymentProduct.id === paymentProductGroupId) {\n\t\t\t\tif (_cache[cacheKey]) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t\t}, 0);\n\t\t\t\t} else {\n\t\t\t\t\t_cache[cacheKey] = _cleanJSON(_providedPaymentProduct, _c2SCommunicatorConfiguration.assetUrl);\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t} else if (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tvar urlParameterlocale = context.locale ? \"&locale=\" + context.locale: '';\n\t\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId\n\t\t\t\t\t+ \"/productgroups/\" + paymentProductGroupId + \"?countryCode=\" + context.countryCode\n\t\t\t\t\t+ \"&isRecurring=\" + context.isRecurring + \"&amount=\" + context.totalAmount\n\t\t\t\t\t+ \"&currencyCode=\" + context.currency + urlParameterlocale + \"&cacheBust=\" + cacheBust)\n\t\t\t\t\t.set('X-GCS-ClientMetaInfo', _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\tvar cleanedJSON = _cleanJSON(res.responseJSON, c2SCommunicatorConfiguration.assetUrl);\n\t\t\t\t\t\t\t_cache[cacheKey] = cleanedJSON;\n\t\t\t\t\t\t\tpromise.resolve(cleanedJSON);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProductIdByCreditCardNumber = function (partialCreditCardNumber, context) {\n\t\t\tvar promise = new Promise()\n\t\t\t\t, iinDetailsResponse = new IinDetailsResponse()\n\t\t\t\t, cacheKey = \"getPaymentProductIdByCreditCardNumber-\" + partialCreditCardNumber;\n\n\t\t\tvar that = this;\n\t\t\tthis.context = context;\n\t\t\tif (_cache[cacheKey]) {// cache is based on digit 1-6\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tvar isEnoughDigits = function (partialCreditCardNumber) {\n\t\t\t\t\treturn partialCreditCardNumber.length >= 6;\n\t\t\t\t};\n\t\t\t\tif (isEnoughDigits(partialCreditCardNumber)) {\n\t\t\t\t\tNet.post(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId + \"/services/getIINdetails\")\n\t\t\t\t\t\t.data(JSON.stringify(this.convertContextToIinDetailsContext(partialCreditCardNumber, this.context)))\n\t\t\t\t\t\t.set('X-GCS-ClientMetaInfo', _util.base64Encode(metadata))\n\t\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t\tiinDetailsResponse.json = res.responseJSON;\n\t\t\t\t\t\t\t\tiinDetailsResponse.countryCode = res.responseJSON.countryCode;\n\t\t\t\t\t\t\t\tiinDetailsResponse.paymentProductId = res.responseJSON.paymentProductId;\n\t\t\t\t\t\t\t\tiinDetailsResponse.isAllowedInContext = res.responseJSON.isAllowedInContext;\n\t\t\t\t\t\t\t\tiinDetailsResponse.coBrands = res.responseJSON.coBrands;\n\t\t\t\t\t\t\t\t// check if this card is supported\n\t\t\t\t\t\t\t\t// if isAllowedInContext is available in the response set status and resolve\n\t\t\t\t\t\t\t\tif (res.responseJSON.hasOwnProperty('isAllowedInContext')) {\n\t\t\t\t\t\t\t\t\tiinDetailsResponse.status = \"SUPPORTED\";\n\t\t\t\t\t\t\t\t\tif (iinDetailsResponse.isAllowedInContext === false) {\n\t\t\t\t\t\t\t\t\t\tiinDetailsResponse.status = \"EXISTING_BUT_NOT_ALLOWED\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t_cache[cacheKey] = iinDetailsResponse;\n\t\t\t\t\t\t\t\t\tpromise.resolve(iinDetailsResponse);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t//if isAllowedInContext is not available get the payment product again to determine status and resolve\n\t\t\t\t\t\t\t\t\tthat.getPaymentProduct(iinDetailsResponse.paymentProductId, that.context).then(function (paymentProduct) {\n\t\t\t\t\t\t\t\t\t\tif (paymentProduct) {\n\t\t\t\t\t\t\t\t\t\t\tiinDetailsResponse.status = \"SUPPORTED\";\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tiinDetailsResponse.status = \"UNSUPPORTED\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t_cache[cacheKey] = iinDetailsResponse;\n\t\t\t\t\t\t\t\t\t\tpromise.resolve(iinDetailsResponse);\n\t\t\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t\t\tiinDetailsResponse.status = \"UNKNOWN\";\n\t\t\t\t\t\t\t\t\t\tpromise.reject(iinDetailsResponse);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tiinDetailsResponse.status = \"UNKNOWN\";\n\t\t\t\t\t\t\t\tpromise.reject(iinDetailsResponse);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tiinDetailsResponse.status = \"NOT_ENOUGH_DIGITS\";\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tpromise.resolve(iinDetailsResponse);\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.convertContextToIinDetailsContext = function (partialCreditCardNumber, context) {\n\t\t\tvar payload = {\n\t\t\t\t\"bin\": partialCreditCardNumber,\n\t\t\t\t\"paymentContext\": {\n\t\t\t\t\t\"countryCode\": context.countryCode,\n\t\t\t\t\t\"isRecurring\": context.isRecurring,\n\t\t\t\t\t\"amountOfMoney\": {\n\t\t\t\t\t\t\"amount\": context.totalAmount,\n\t\t\t\t\t\t\"currencyCode\": context.currency\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Account on file id is needed only in case when the merchant\n\t\t\t// uses multiple payment platforms at the same time.\n\t\t\tif (typeof context.accountOnFileId !== 'undefined') {\n\t\t\t\tpayload.accountOnFileId = context.accountOnFileId;\n\t\t\t}\n\n\t\t\treturn payload;\n\t\t};\n\n\t\tthis.getPublicKey = function () {\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheKey = \"publicKey\";\n\n\t\t\tif (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId + \"/crypto/publickey\")\n\t\t\t\t\t.set(\"X-GCS-ClientMetaInfo\", _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\tvar publicKeyResponse = new PublicKeyResponse(res.responseJSON);\n\t\t\t\t\t\t\t_cache[cacheKey] = publicKeyResponse;\n\t\t\t\t\t\t\tpromise.resolve(publicKeyResponse);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject(\"unable to get public key\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProductNetworks = function (paymentProductId, context) {\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheKey = \"paymentProductNetworks-\" + paymentProductId + \"_\" + context.countryCode + \"_\" + context.currency + \"_\"\n\t\t\t\t\t+ context.totalAmount + \"_\" + context.isRecurring;\n\n\t\t\tif (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId\n\t\t\t\t\t+ \"/products/\" + paymentProductId + \"/networks\" + \"?countryCode=\" + context.countryCode + \"&currencyCode=\" + context.currency\n\t\t\t\t\t+ \"&amount=\" + context.totalAmount + \"&isRecurring=\" + context.isRecurring)\n\t\t\t\t\t.set('X-GCS-ClientMetaInfo', _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t_cache[cacheKey] = res.responseJSON;\n\t\t\t\t\t\t\tpromise.resolve(res.responseJSON);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProductDirectory = function (paymentProductId, currencyCode, countryCode) {\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheKey = \"getPaymentProductDirectory-\" + paymentProductId + \"_\" + currencyCode + \"_\" + countryCode;\n\n\t\t\tif (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId + \"/products/\" + paymentProductId + \"/directory?countryCode=\" + countryCode + \"&currencyCode=\" + currencyCode)\n\t\t\t\t\t.set(\"X-GCS-ClientMetaInfo\", _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t_cache[cacheKey] = res.responseJSON;\n\t\t\t\t\t\t\tpromise.resolve(res.responseJSON);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject(\"unable to retrieve payment product directory\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.convertAmount = function (amount, source, target) {\n\t\t\tvar promise = new Promise()\n\t\t\t\t, cacheKey = \"convertAmount-\" + amount + \"_\" + source + \"_\" + target;\n\n\t\t\tif (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId + \"/services/convert/amount?source=\" + source + \"&target=\" + target + \"&amount=\" + amount)\n\t\t\t\t\t.set(\"X-GCS-ClientMetaInfo\", _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t_cache[cacheKey] = res.responseJSON;\n\t\t\t\t\t\t\tpromise.resolve(res.responseJSON);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject(\"unable to convert amount\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getThirdPartyPaymentStatus = function (paymentId) {\n\t\t\tvar promise = new Promise();\n\n\t\t\tNet.get(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId + \"/payments/\" + paymentId + \"/thirdpartystatus\")\n\t\t\t\t.set(\"X-GCS-ClientMetaInfo\", _util.base64Encode(metadata))\n\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t.end(function (res) {\n\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\tpromise.resolve(res.responseJSON);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpromise.reject(\"unable to retrieve third party status\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getCustomerDetails = function(paymentProductId, context) {\n\n\t\t\tvar promise = new Promise();\n\t\t\tvar cacheKey = \"getCustomerDetails_\" + context.countryCode;\n\t\t\tcacheKey = constructCacheKeyFromKeyValues(cacheKey, context.values);\n\t\t\tif (_cache[cacheKey]) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tpromise.resolve(_cache[cacheKey]);\n\t\t\t\t}, 0);\n\t\t\t} else {\n\t\t\t\tNet.post(formatUrl(_c2SCommunicatorConfiguration.clientApiUrl) + _c2SCommunicatorConfiguration.customerId + \"/products/\" + paymentProductId + \"/customerDetails\")\n\t\t\t\t\t.data(JSON.stringify(context))\n\t\t\t\t\t.set(\"X-GCS-ClientMetaInfo\", _util.base64Encode(metadata))\n\t\t\t\t\t.set('Authorization', 'GCS v1Client:' + _c2SCommunicatorConfiguration.clientSessionId)\n\t\t\t\t\t.end(function (res) {\n\t\t\t\t\t\tif (res.success) {\n\t\t\t\t\t\t\t_cache[cacheKey] = res.responseJSON;\n\t\t\t\t\t\t\tpromise.resolve(res.responseJSON);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpromise.reject(res.responseJSON);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tvar constructCacheKeyFromKeyValues = function(prefix, values) {\n\t\t\tvar cacheKey = prefix;\n\t\t\tfor (var key in values){\n\t\t\t\tif (values.hasOwnProperty(key)) {\n\t\t\t\t\tcacheKey += \"_\" + values[key].key + \"_\" + values[key].value;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cacheKey;\n\t\t};\n\n        /* Transforms the JSON representation of a payment product (group) so it matches the result of getPaymentProduct and getPaymentProductGroup. */\n        this.transformPaymentProductJSON = function (json) {\n            return _cleanJSON(json, _c2SCommunicatorConfiguration.assetUrl)\n        };\n\t};\n\n\tconnectsdk.C2SCommunicator = C2SCommunicator;\n\treturn C2SCommunicator;\n});\n","define(\"connectsdk.LabelTemplateElement\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar LabelTemplateElement = function (json) {\n\t\tthis.json = json;\n\t\tthis.attributeKey = json.attributeKey;\n\t\tthis.mask = json.mask;\n\t\tthis.wildcardMask = json.mask ? json.mask.replace(/9/g, \"*\") : \"\";\n\t};\n\n\tconnectsdk.LabelTemplateElement = LabelTemplateElement;\n\treturn LabelTemplateElement;\n});","define(\"connectsdk.Attribute\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar Attribute = function (json) {\n\t\tthis.json = json;\n\t\tthis.key = json.key;\n\t\tthis.value = json.value;\n\t\tthis.status = json.status;\n\t\tthis.mustWriteReason = json.mustWriteReason;\n\t};\n\n\tconnectsdk.Attribute = Attribute;\n\treturn Attribute;\n});","define(\"connectsdk.AccountOnFileDisplayHints\", [\"connectsdk.core\", \"connectsdk.LabelTemplateElement\"], function(connectsdk, LabelTemplateElement) {\n\n\tvar _parseJSON = function (_json, _labelTemplate, _labelTemplateElementByAttributeKey) {\n\t\tif (_json.labelTemplate) {\n\t\t\tfor (var i = 0, l = _json.labelTemplate.length; i < l; i++) {\n\t\t\t\tvar labelTemplateElement = new LabelTemplateElement(_json.labelTemplate[i]);\n\t\t\t\t_labelTemplate.push(labelTemplateElement);\n\t\t\t\t_labelTemplateElementByAttributeKey[labelTemplateElement.attributeKey] = labelTemplateElement;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar AccountOnFileDisplayHints = function (json) {\n\t\tthis.json = json;\n\t\tthis.labelTemplate = [];\n\t\tthis.labelTemplateElementByAttributeKey = {};\n\n\t\t_parseJSON(json, this.labelTemplate, this.labelTemplateElementByAttributeKey);\n\t};\n\n\tconnectsdk.AccountOnFileDisplayHints = AccountOnFileDisplayHints;\n\treturn AccountOnFileDisplayHints;\n});","define(\"connectsdk.AccountOnFile\", [\"connectsdk.core\" ,\"connectsdk.AccountOnFileDisplayHints\", \"connectsdk.Attribute\"], function(connectsdk, AccountOnFileDisplayHints, Attribute) {\n\n\tvar _parseJSON = function (_json, _attributes, _attributeByKey) {\n\t\tif (_json.attributes) {\n\t\t\tfor (var i = 0, l = _json.attributes.length; i < l; i++) {\n\t\t\t\tvar attribute = new Attribute(_json.attributes[i]);\n\t\t\t\t_attributes.push(attribute);\n\t\t\t\t_attributeByKey[attribute.key] = attribute;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar AccountOnFile = function (json) {\n\t\tvar that = this;\n\t\tthis.json = json;\n\t\tthis.attributes = [];\n\t\tthis.attributeByKey = {};\n\t\tthis.displayHints = new AccountOnFileDisplayHints(json.displayHints);\n\t\tthis.id = json.id;\n\t\tthis.paymentProductId = json.paymentProductId;\n\n\t\tthis.getMaskedValueByAttributeKey = function(attributeKey) {\n\t\t\tvar value = this.attributeByKey[attributeKey].value;\n\t\t\tvar wildcardMask;\n\t\t\ttry {\n\t\t\t\twildcardMask = this.displayHints.labelTemplateElementByAttributeKey[attributeKey].wildcardMask;\n\t\t\t} catch (e) {}\n\t\t\tif (value !== undefined && wildcardMask !== undefined) {\n\t\t\t\tvar maskingUtil = new connectsdk.MaskingUtil();\n\t\t\t\treturn maskingUtil.applyMask(wildcardMask, value);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t};\n\n\t\t_parseJSON(json, this.attributes, this.attributeByKey);\n\t};\n\n\tconnectsdk.AccountOnFile = AccountOnFile;\n\treturn AccountOnFile;\n});","define(\"connectsdk.PaymentProduct302SpecificData\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar PaymentProduct302SpecificData = function (json) {\n\t\tthis.json = json;\n\t\tthis.networks = json.networks;\n\t};\n\n\tconnectsdk.PaymentProduct302SpecificData = PaymentProduct302SpecificData;\n\treturn PaymentProduct302SpecificData;\n});","define(\"connectsdk.PaymentProduct320SpecificData\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar PaymentProduct320SpecificData = function (json) {\n\t\tthis.json = json;\n\t\tthis.gateway = json.gateway;\n\t\tthis.networks = json.networks;\n\t};\n\n\tconnectsdk.PaymentProduct320SpecificData = PaymentProduct320SpecificData;\n\treturn PaymentProduct320SpecificData;\n});","define(\"connectsdk.PaymentProduct863SpecificData\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar PaymentProduct863SpecificData = function (json) {\n\t\tthis.json = json;\n\t\tthis.integrationTypes = json.integrationTypes;\n\t};\n\n\tconnectsdk.PaymentProduct863SpecificData = PaymentProduct863SpecificData;\n\treturn PaymentProduct863SpecificData;\n});","define(\"connectsdk.PaymentProductDisplayHints\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar PaymentProductDisplayHints = function (json) {\n\t\tthis.json = json;\n\t\tthis.displayOrder = json.displayOrder;\n\t\tthis.label = json.label;\n\t\tthis.logo = json.logo;\n\t};\n\n\tconnectsdk.PaymentProductDisplayHints = PaymentProductDisplayHints;\n\treturn PaymentProductDisplayHints;\n});","define(\"connectsdk.BasicPaymentProduct\", [\"connectsdk.core\", \"connectsdk.AccountOnFile\", \"connectsdk.PaymentProductDisplayHints\", \"connectsdk.PaymentProduct302SpecificData\", \"connectsdk.PaymentProduct320SpecificData\", \"connectsdk.PaymentProduct863SpecificData\"], function(connectsdk, AccountOnFile, PaymentProductDisplayHints, PaymentProduct302SpecificData, PaymentProduct320SpecificData, PaymentProduct863SpecificData) {\n\n\tvar _parseJSON = function (_json, _paymentProduct, _accountsOnFile, _accountOnFileById) {\n\t\tif (_json.accountsOnFile) {\n\t\t\tfor (var i = 0, il = _json.accountsOnFile.length; i < il; i++) {\n\t\t\t\tvar accountOnFile = new AccountOnFile(_json.accountsOnFile[i]);\n\t\t\t\t_accountsOnFile.push(accountOnFile);\n\t\t\t\t_accountOnFileById[accountOnFile.id] = accountOnFile;\n\t\t\t}\n\t\t}\n\t\tif (_json.paymentProduct302SpecificData) {\n\t\t\t_paymentProduct.paymentProduct302SpecificData = new PaymentProduct302SpecificData(_json.paymentProduct302SpecificData);\n\t\t}\n\t\tif (_json.paymentProduct320SpecificData) {\n\t\t\t_paymentProduct.paymentProduct320SpecificData = new PaymentProduct320SpecificData(_json.paymentProduct320SpecificData);\n\t\t}\n\t\tif (_json.paymentProduct863SpecificData) {\n\t\t\t_paymentProduct.paymentProduct863SpecificData = new PaymentProduct863SpecificData(_json.paymentProduct863SpecificData);\n\t\t}\n\t};\n\n\tvar BasicPaymentProduct = function (json) {\n\t\tthis.json = json;\n\t\tthis.json.type = \"product\";\n\t\tthis.accountsOnFile = [];\n\t\tthis.accountOnFileById = {};\n\t\tthis.allowsRecurring = json.allowsRecurring;\n\t\tthis.allowsTokenization = json.allowsTokenization;\n\t\tthis.autoTokenized  = json.autoTokenized ;\n\t\tthis.displayHints = new PaymentProductDisplayHints(json.displayHints);\n\t\tthis.id = json.id;\n\t\tthis.maxAmount = json.maxAmount;\n\t\tthis.minAmount = json.minAmount;\n\t\tthis.paymentMethod = json.paymentMethod;\n\t\tthis.mobileIntegrationLevel = json.mobileIntegrationLevel;\n\t\tthis.usesRedirectionTo3rdParty = json.usesRedirectionTo3rdParty;\n\t\tthis.paymentProductGroup = json.paymentProductGroup;\n\n\t\t_parseJSON(json, this, this.accountsOnFile, this.accountOnFileById);\n\t};\n\n\tconnectsdk.BasicPaymentProduct = BasicPaymentProduct;\n\treturn BasicPaymentProduct;\n});","define(\"connectsdk.BasicPaymentProductGroup\", [\"connectsdk.core\", \"connectsdk.AccountOnFile\", \"connectsdk.PaymentProductDisplayHints\"], function(connectsdk, AccountOnFile, PaymentProductDisplayHints) {\n\n\tvar _parseJSON = function (_json, _accountsOnFile, _accountOnFileById) {\n\t\tif (_json.accountsOnFile) {\n\t\t\tfor (var i = 0, il = _json.accountsOnFile.length; i < il; i++) {\n\t\t\t\tvar accountOnFile = new AccountOnFile(_json.accountsOnFile[i]);\n\t\t\t\t_accountsOnFile.push(accountOnFile);\n\t\t\t\t_accountOnFileById[accountOnFile.id] = accountOnFile;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar BasicPaymentProductGroup = function (json) {\n\t\tthis.json = json;\n\t\tthis.json.type = \"group\";\n\t\tthis.id = json.id;\n\t\tthis.displayHints = new PaymentProductDisplayHints(json.displayHints);\n\t\tthis.accountsOnFile = [];\n\t\tthis.accountOnFileById = {};\n\t\t_parseJSON(json, this.accountsOnFile, this.accountOnFileById);\n\t};\n\n\tconnectsdk.BasicPaymentProductGroup = BasicPaymentProductGroup;\n\treturn BasicPaymentProductGroup;\n});","define(\"connectsdk.MaskedString\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar MaskedString = function(formattedValue, cursorIndex) {\n\n\t\tthis.formattedValue = formattedValue;\n\t\tthis.cursorIndex = cursorIndex;\n\t};\n\n\tconnectsdk.MaskedString = MaskedString;\n\treturn MaskedString;\n});","define(\"connectsdk.MaskingUtil\", [\"connectsdk.core\", \"connectsdk.MaskedString\"], function(connectsdk, MaskedString) {\n\n\tvar _fillBuffer = function(index, offset, buffer, tempMask, valuec) {\n\t\tif (index+offset < valuec.length && index < tempMask.length) {\n\t\t\tif ((tempMask[index] === \"9\" && Number(valuec[index+offset]) > -1 && valuec[index+offset] !== \" \") || tempMask[index] === \"*\") {\n\t\t\t\tbuffer.push(valuec[index+offset]);\n\t\t\t} else {\n\t\t\t\tif (valuec[index+offset] === tempMask[index]) {\n\t\t\t\t\tbuffer.push(valuec[index+offset]);\n\t\t\t\t} else if (tempMask[index] !== \"9\" && tempMask[index] !== \"*\") {\n\t\t\t\t\tbuffer.push(tempMask[index]);\n\t\t\t\t\toffset--;\n\t\t\t\t} else {\n\t\t\t\t\t// offset++;\n\t\t\t\t\tvaluec.splice(index+offset, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t_fillBuffer(index+1, offset, buffer, tempMask, valuec);\n\t\t}\n\t};\n\n\tvar MaskingUtil = function () {\n\t\tthis.applyMask = function (mask, newValue, oldValue) {\n\t\t\tvar buffer = [],\n\t\t\t\t\tvaluec = newValue.split(\"\");\n\t\t\tif (mask) {\n\t\t\t\tvar maskc = mask.split(\"\"),\n\t\t\t\t\t\ttempMask = [];\n\t\t\t\tfor (var i = 0, il = maskc.length; i < il; i++) {\n\t\t\t\t\t// the char '{' and '}' should ALWAYS be ignored\n\t\t\t\t\tvar c = maskc[i];\n\t\t\t\t\tif (c === \"{\" || c === \"}\") {\n\t\t\t\t\t\t// ignore\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttempMask.push(c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// tempmask now contains the replaceable chars and the non-replaceable masks at the correct index\n\t\t\t\t_fillBuffer(0, 0, buffer, tempMask, valuec);\n\t\t\t} else {\n\t\t\t\t// send back as is\n\t\t\t\tfor (var i = 0, il = valuec.length; i < il; i++) {\n\t\t\t\t\tvar c = valuec[i];\n\t\t\t\t\tbuffer.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t\tnewValue = buffer.join(\"\");\n\t\t\tvar cursor = 1;\n\t\t\t// calculate the cursor index\n\t\t\tif (oldValue) {\n\t\t\t\tvar tester = oldValue.split(\"\");\n\t\t\t\tfor (var i = 0, il = buffer.length; i < il; i++) {\n\t\t\t\t\tif (buffer[i] !== tester[i]) {\n\t\t\t\t\t\tcursor = i+1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newValue.substring(0, newValue.length -1) === oldValue) {\n\t\t\t\tcursor = newValue.length + 1;\n\t\t\t}\n\t\t\treturn new MaskedString(newValue, cursor);\n\t\t};\n\t\t\n\t\tthis.getMaxLengthBasedOnMask = function (mask) {\n\t\t\tif (mask) {\n\t\t\t\tvar maskc = mask.split(\"\"),\n\t\t\t\t\t\tnewLength = -1;\n\t\t\t\tfor (var i = 0, il = maskc.length; i < il; i++) {\n\t\t\t\t\tnewLength++;\n\t\t\t\t\tvar c = maskc[i];\n\t\t\t\t\tif (c === \"{\" || c === \"}\") {\n\t\t\t\t\t\tnewLength--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn newLength;\n\t\t\t}\n\t\t};\n\n\t\tthis.removeMask = function (mask, value) {\n\t\t\t// remove the mask from the masked input\n\t\t\tvar buffer = [],\n\t\t\t\t\tvaluec = (value) ? value.split(\"\") : [];\n\t\t\tif (mask) {\n\t\t\t\tvar maskc = mask.split(\"\"),\n\t\t\t\t\t\tvalueIndex = -1,\n\t\t\t\t\t\tinMask = false;\n\t\t\t\tfor (var i = 0, il = maskc.length; i < il; i++) {\n\t\t\t\t\tvalueIndex++;\n\t\t\t\t\t// the char '{' and '}' should ALWAYS be ignored\n\t\t\t\t\tvar c = maskc[i];\n\t\t\t\t\tif (c === \"{\" || c === \"}\") {\n\t\t\t\t\t\tvalueIndex--;\n\t\t\t\t\t\tif (c === \"{\") {\n\t\t\t\t\t\t\tinMask = true;\n\t\t\t\t\t\t} else if (c === \"}\") {\n\t\t\t\t\t\t\tinMask = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (inMask && valuec[valueIndex]) {\n\t\t\t\t\t\t\tbuffer.push(valuec[valueIndex]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// send back as is\n\t\t\t\tfor (var i = 0, il = valuec.length; i < il; i++) {\n\t\t\t\t\tvar c = valuec[i];\n\t\t\t\t\tbuffer.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn buffer.join(\"\").trim();\n\t\t};\n\t};\n\n\tconnectsdk.MaskingUtil = MaskingUtil;\n\treturn MaskingUtil;\n});","define(\"connectsdk.ValidationRuleLuhn\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleLuhn = function (json) {\n\t\tthis.json = json;\n        this.type = json.type,\n        this.errorMessageId = json.type;\n\t\tthis.validate = function (value) {\n\t\t\tvar luhnArr = [[0,2,4,6,8,1,3,5,7,9],[0,1,2,3,4,5,6,7,8,9]]\n\t\t\t\t,sum = 0;\n\t\t\t\t\n\t   \t\tvalue.replace(/\\D+/g,\"\").replace(/[\\d]/g, function(c, p, o) {\n\t\t        sum += luhnArr[ (o.length-p)&1 ][ parseInt(c,10) ];\n\t\t    });\n\t\t    return (sum%10 === 0) && (sum > 0);\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleLuhn = ValidationRuleLuhn;\n\treturn ValidationRuleLuhn;\n});","define(\"connectsdk.ValidationRuleExpirationDate\", [\"connectsdk.core\"], function (connectsdk) {\n\n\tvar _validateDateFormat = function (value) {\n\t\t// value is mmYY or mmYYYY\n\t\tvar pattern = /\\d{4}|\\d{6}$/g;\n\t\treturn pattern.test(value);\n\t};\n\n\tvar ValidationRuleExpirationDate = function (json) {\n\t\tthis.json = json;\n\t\tthis.type = json.type;\n\t\tthis.errorMessageId = json.type;\n\n\t\tthis.validate = function (value) {\n\n\t\t\tvalue = value.replace(/[^\\d]/g, '');\n\t\t\tif (!_validateDateFormat(value)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar split;\n\t\t\tif (value.length === 4) {\n\t\t\t\tsplit = [value.substring(0, 2), \"20\" + value.substring(2, 4)];\n\t\t\t} else if (value.length === 6) {\n\t\t\t\tsplit = [value.substring(0, 2), value.substring(2, 6)];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// The month is zero-based, so subtract one.\n\t\t\tvar expirationMonth = split[0] - 1;\n\t\t\tvar expirationYear = split[1];\n\t\t\tvar expirationDate = new Date(expirationYear, expirationMonth, 1);\n\n\t\t\t// Compare the input with the parsed date, to check if the date rolled over.\n\t\t\tif (expirationDate.getMonth() !== Number(expirationMonth) || expirationDate.getFullYear() !== Number(expirationYear)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// For comparison, set the current year & month and the maximum allowed expiration date.\n\t\t\tvar nowWithDay = new Date();\n\t\t\tvar now = new Date(nowWithDay.getFullYear(), nowWithDay.getMonth(), 1);\n\t\t\tvar maxExpirationDate = new Date(nowWithDay.getFullYear() + 25, 11, 1);\n\n\t\t\t// The card is still valid if it expires this month.\n\t\t\treturn expirationDate >= now && expirationDate <= maxExpirationDate;\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleExpirationDate = ValidationRuleExpirationDate;\n\treturn ValidationRuleExpirationDate;\n});\n","define(\"connectsdk.ValidationRuleFixedList\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleFixedList = function (json) {\n\t\tthis.json = json;\n        this.type = json.type,\n        this.errorMessageId = json.type;\n\t\tthis.allowedValues = json.attributes.allowedValues;\n\t\t\n\t\tthis.validate = function (value) {\n\t\t\tfor (var i = 0, il = this.allowedValues.length; i < il; i++) {\n\t\t\t\tif (this.allowedValues[i] === value) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleFixedList = ValidationRuleFixedList;\n\treturn ValidationRuleFixedList;\n});","define(\"connectsdk.ValidationRuleLength\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleLength = function (json) {\n\t\tthis.json = json;\n        this.type = json.type,\n        this.errorMessageId = json.type;\n        this.maxLength = json.attributes.maxLength;\n\t\tthis.minLength = json.attributes.minLength;\n\t\t\n\t\tthis.validate = function (value) {\n\t\t\treturn this.minLength <= value.length && value.length <= this.maxLength;\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleLength = ValidationRuleLength;\n\treturn ValidationRuleLength;\n});","define(\"connectsdk.ValidationRuleRange\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleRange = function(json) {\n\t\tthis.json = json;\n        this.type = json.type,\n        this.errorMessageId = json.type;\n        this.maxValue = json.attributes.maxValue;\n\t\tthis.minValue = json.attributes.minValue;\n\t\t\n\t\tthis.validate = function(value) {\n\t\t\tif (isNaN(value)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvalue = Number(value);\n\t\t\treturn this.minValue <= value && value <= this.maxValue;\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleRange = ValidationRuleRange;\n\treturn ValidationRuleRange;\n});","define(\"connectsdk.ValidationRuleRegularExpression\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleRegularExpression = function(json) {\n\t\tthis.json = json;\n        this.type = json.type,\n        this.errorMessageId = json.type;\n\t\tthis.regularExpression = json.attributes.regularExpression;\n\t\t\n\t\tthis.validate = function(value) {\n\t\t\tvar regexp = new RegExp(this.regularExpression);\n\t\t\treturn regexp.test(value);\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleRegularExpression = ValidationRuleRegularExpression;\n\treturn ValidationRuleRegularExpression;\n});","define(\"connectsdk.ValidationRuleEmailAddress\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleEmailAddress = function(json) {\n\t\tthis.json = json;\n\t\tthis.type = json.type,\n\t\tthis.errorMessageId = json.type;\n\n\t\tthis.validate = function(value) {\n\t\t\tvar regexp = new RegExp(/^[^@\\.]+(\\.[^@\\.]+)*@([^@\\.]+\\.)*[^@\\.]+\\.[^@\\.][^@\\.]+$/i);\n\t\t\treturn regexp.test(value);\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleEmailAddress = ValidationRuleEmailAddress;\n\treturn ValidationRuleEmailAddress;\n});","define(\"connectsdk.ValidationRuleTermsAndConditions\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleTermsAndConditions = function(json) {\n\t\tthis.json = json;\n\t\tthis.type = json.type,\n\t\tthis.errorMessageId = json.type;\n\n\t\tthis.validate = function(value) {\n\t\t\treturn true === value || \"true\" === value;\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleTermsAndConditions = ValidationRuleTermsAndConditions;\n\treturn ValidationRuleTermsAndConditions;\n});","define(\"connectsdk.ValidationRuleBoletoBancarioRequiredness\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValidationRuleBoletoBancarioRequiredness = function (json) {\n\t\tthis.json = json;\n        this.type = json.type,\n        this.errorMessageId = json.type;\n        this.fiscalNumberLength = json.attributes.fiscalNumberLength;\n\t\t\n\t\tthis.validate = function (value, fiscalNumberValue) {\n\t\t\tif (typeof fiscalNumberValue === 'undefined') {\n\t\t\t\tfiscalNumberValue = '';\n\t\t\t}\n\n\t\t\treturn (fiscalNumberValue.length === this.fiscalNumberLength && value.length > 0) || fiscalNumberValue.length !== this.fiscalNumberLength;\n\t\t};\n\t};\n\n\tconnectsdk.ValidationRuleBoletoBancarioRequiredness = ValidationRuleBoletoBancarioRequiredness;\n\treturn ValidationRuleBoletoBancarioRequiredness;\n});","define('connectsdk.ValidationRuleIban', ['connectsdk.core'], function (connectsdk) {\n\n  /**\n   * Sanitize value by remove all unwanted chars of a Iban format\n   *\n   * @param {String} value\n   * @returns {string}\n   * @private\n   */\n  var _sanitizeValue = function (value) {\n    return value.replace(/[^\\d\\w]+/g, '').toUpperCase();\n  };\n\n  /**\n   * Get state if given value is a valid Iban format\n   *\n   * @param {String} value\n   * @returns {boolean}\n   * @private\n   */\n  var _isValidFormat = function (value) {\n    return typeof value === 'string' && /^[A-Z]{2}[0-9]{2}[A-Z0-9]{4}[0-9]{7}([A-Z0-9]?){0,16}$/.test(_sanitizeValue(value));\n  };\n\n  /**\n   * Convert a value to a string needed for validation calculations\n   *\n   * @param {String} value\n   * @returns {string}\n   * @private\n   */\n  var _toComputedString = function (value) {\n    return _sanitizeValue(value)\n\n    // place the first 4 chars to the end\n      .replace(/(^.{4})(.*)/, '$2$1')\n\n      // replace letters by corresponding numbers A=10 / Z=35\n      .replace(/[A-Z]/g, function (d) {\n        return d.charCodeAt(0) - 55;\n      });\n  }\n\n  /**\n   * Validate Iban by given json\n   *\n   * @param {Object} json\n   * @constructor\n   */\n  var ValidationRuleIban = function (json) {\n    this.json           = json;\n    this.type           = json.type;\n    this.errorMessageId = json.type;\n\n    /**\n     * Validate Iban nrule\n     *\n     * @see https://github.com/arhs/iban.js/blob/master/iban.js\n     *\n     * @param   {string} value\n     * @returns {boolean}\n     */\n    this.validate = function (value) {\n\n      // bail if format is invalid\n      if (!_isValidFormat(value)) {\n        return false;\n      }\n\n      // Check if reminder module 97 equals 1\n      // only then it should pass the validation\n      var remainder = _toComputedString(value),\n          block;\n\n      while (remainder.length > 2) {\n        block     = remainder.slice(0, 9);\n        remainder = parseInt(block, 10) % 97 + remainder.slice(block.length);\n      }\n\n      return (parseInt(remainder, 10) % 97) === 1;\n    };\n  };\n\n  connectsdk.ValidationRuleIban = ValidationRuleIban;\n  return ValidationRuleIban;\n});","define(\"connectsdk.ValidationRuleFactory\", [\"connectsdk.core\", \"connectsdk.ValidationRuleEmailAddress\", \"connectsdk.ValidationRuleTermsAndConditions\", \"connectsdk.ValidationRuleExpirationDate\", \"connectsdk.ValidationRuleFixedList\", \"connectsdk.ValidationRuleLength\", \"connectsdk.ValidationRuleLuhn\", \"connectsdk.ValidationRuleRange\", \"connectsdk.ValidationRuleRegularExpression\", \"connectsdk.ValidationRuleBoletoBancarioRequiredness\", \"connectsdk.ValidationRuleIban\"], function (connectsdk, ValidationRuleEmailAddress, ValidationRuleTermsAndConditions, ValidationRuleExpirationDate, ValidationRuleFixedList, ValidationRuleLength, ValidationRuleLuhn, ValidationRuleRange, ValidationRuleRegularExpression, ValidationRuleBoletoBancarioRequiredness, ValidationRuleIban) {\n\n    var ValidationRuleFactory = function () {\n\n        this.makeValidator = function (json) {\n            // create new class based on the rule\n            try {\n                var classType = json.type.charAt(0).toUpperCase() + json.type.slice(1), // camel casing\n                    className = eval(\"ValidationRule\" + classType);\n                return new className(json);\n            } catch (e) {\n                console.warn('no validator for ', classType);\n            }\n            return null;\n        };\n    };\n\n    connectsdk.ValidationRuleFactory = ValidationRuleFactory;\n    return ValidationRuleFactory;\n});","define(\"connectsdk.DataRestrictions\", [\"connectsdk.core\", \"connectsdk.ValidationRuleExpirationDate\", \"connectsdk.ValidationRuleFixedList\", \"connectsdk.ValidationRuleLength\", \"connectsdk.ValidationRuleLuhn\", \"connectsdk.ValidationRuleRange\", \"connectsdk.ValidationRuleRegularExpression\", \"connectsdk.ValidationRuleEmailAddress\", \"connectsdk.ValidationRuleTermsAndConditions\", \"connectsdk.ValidationRuleIban\", \"connectsdk.ValidationRuleFactory\"], function(connectsdk, ValidationRuleExpirationDate, ValidationRuleFixedList, ValidationRuleLength, ValidationRuleLuhn, ValidationRuleRange, ValidationRuleRegularExpression, ValidationRuleEmailAddress, ValidationRuleTermsAndConditions, ValidationRuleIban, ValidationRuleFactory) {\n\n\tvar DataRestrictions = function (json, mask) {\n\n\t\tvar _parseJSON = function (_json, _validationRules, _validationRuleByType) {\n\t\t    var validationRuleFactory = new ValidationRuleFactory();\n\t\t\tif (_json.validators) {\n\t\t\t\tfor (var key in _json.validators) {\n\t\t\t\t\tvar validationRule = validationRuleFactory.makeValidator({type: key, attributes: _json.validators[key]});\n\t\t\t\t\tif (validationRule) {\n\t\t\t\t\t\t_validationRules.push(validationRule);\n\t\t\t\t\t\t_validationRuleByType[validationRule.type] = validationRule;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.json = json;\n\t\tthis.isRequired = json.isRequired;\n\t\tthis.validationRules = [];\n\t\tthis.validationRuleByType = {};\n\n\t\t_parseJSON(json, this.validationRules, this.validationRuleByType);\n\t};\n\n\tconnectsdk.DataRestrictions = DataRestrictions;\n\treturn DataRestrictions;\n});","define(\"connectsdk.ValueMappingElement\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar ValueMappingElement = function (json) {\n\t\tthis.json = json;\n\t\tthis.displayName = json.displayName;\n\t\tthis.value = json.value;\n\t};\n\n\tconnectsdk.ValueMappingElement = ValueMappingElement;\n\treturn ValueMappingElement;\n});","define(\"connectsdk.FormElement\", [\"connectsdk.core\", \"connectsdk.ValueMappingElement\"], function(connectsdk, ValueMappingElement) {\n\n\tvar FormElement = function (json) {\n\n\t\tvar _parseJSON = function (_json, _valueMapping) {\n\t\t\tif (_json.valueMapping) {\n\t\t\t\tfor (var i = 0, l = _json.valueMapping.length; i < l; i++) {\n\t\t\t\t\t_valueMapping.push(new ValueMappingElement(_json.valueMapping[i]));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.json = json;\n\t\tthis.type = json.type;\n\t\tthis.valueMapping = [];\n\t\t\n\t\t_parseJSON(json, this.valueMapping);\n\t};\n\n\tconnectsdk.FormElement = FormElement;\n\treturn FormElement;\n});","define(\"connectsdk.Tooltip\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar Tooltip = function (json) {\n\t\tthis.json = json;\n\t\tthis.image = json.image;\n\t\tthis.label = json.label;\n\t};\n\n\tconnectsdk.Tooltip = Tooltip;\n\treturn Tooltip;\n});","define(\"connectsdk.PaymentProductFieldDisplayHints\", [\"connectsdk.core\", \"connectsdk.Tooltip\", \"connectsdk.FormElement\"], function(connectsdk, Tooltip, FormElement) {\n\n\tvar PaymentProductFieldDisplayHints = function (json) {\n\t\tthis.json = json;\n \t\tthis.displayOrder = json.displayOrder;\n\t\tif (json.formElement) {\n\t\t\tthis.formElement = new FormElement(json.formElement);\n\t\t}\n\t\tthis.label = json.label;\n\t\tthis.mask = json.mask;\n\t\tthis.obfuscate = json.obfuscate;\n\t\tthis.placeholderLabel = json.placeholderLabel;\n\t\tthis.preferredInputType = json.preferredInputType;\n\t\tthis.tooltip = json.tooltip? new Tooltip(json.tooltip): undefined;\n\t\tthis.alwaysShow = json.alwaysShow;\n\t\tthis.wildcardMask = json.mask ? json.mask.replace(/9/g, \"*\") : \"\";\n\t};\n\n\tconnectsdk.PaymentProductFieldDisplayHints = PaymentProductFieldDisplayHints;\n\treturn PaymentProductFieldDisplayHints;\n});","define(\"connectsdk.PaymentProductField\", [\"connectsdk.core\", \"connectsdk.PaymentProductFieldDisplayHints\", \"connectsdk.DataRestrictions\", \"connectsdk.MaskingUtil\"], function(connectsdk, PaymentProductFieldDisplayHints, DataRestrictions, MaskingUtil) {\n\tvar PaymentProductField = function (json) {\n\t\tthis.json = json;\n\t\tthis.displayHints = json.displayHints ? new PaymentProductFieldDisplayHints(json.displayHints) : '';\n\t\tthis.dataRestrictions = new DataRestrictions(json.dataRestrictions, this.displayHints ? this.displayHints.mask : '');\n\t\tthis.id = json.id;\n\t\tthis.type = json.type;\n\t\tvar _errorCodes = [];\n\n\t\tthis.getErrorCodes = function (value) {\n\t\t\tif (value) {\n\t\t\t\t_errorCodes = [];\n\t\t\t\tthis.isValid(value);\n\t\t\t}\n\t\t\treturn _errorCodes;\n\t\t};\n\t\tthis.isValid = function (value) {\n\t\t\t// isValid checks all datarestrictions\n\t\t\tvar validators = this.dataRestrictions.validationRules;\n\t\t\tvar hasError = false;\n\n\t\t\t// Apply masking value first\n\t\t\tvar maskedValue = this.applyMask(value);\n\t\t\tvalue = this.removeMask(maskedValue.formattedValue);\n\t\t\tfor (var i = 0, il = validators.length; i < il; i++) {\n\t\t\t\tvar validator = validators[i];\n\t\t\t\tif (!validator.validate(value)) {\n\t\t\t\t\thasError = true;\n\t\t\t\t\t_errorCodes.push(validator.errorMessageId);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !hasError;\n\t\t};\n\t\tthis.applyMask = function (newValue, oldValue) {\n\t\t\tvar maskingUtil = new MaskingUtil();\n\t\t\treturn maskingUtil.applyMask(this.displayHints.mask, newValue, oldValue);\n\t\t};\n\t\tthis.applyWildcardMask = function (newValue, oldValue) {\n\t\t\tvar maskingUtil = new MaskingUtil();\n\t\t\treturn maskingUtil.applyMask(this.displayHints.wildcardMask, newValue, oldValue);\n\t\t};\n\t\tthis.removeMask = function (value) {\n\t\t\tvar maskingUtil = new MaskingUtil();\n\t\t\treturn maskingUtil.removeMask(this.displayHints.mask, value);\n\t\t};\n\t};\n\n\tconnectsdk.PaymentProductField = PaymentProductField;\n\treturn PaymentProductField;\n});","define(\"connectsdk.PaymentProduct\", [\"connectsdk.core\", \"connectsdk.BasicPaymentProduct\", \"connectsdk.PaymentProductField\"], function(connectsdk, BasicPaymentProduct, PaymentProductField) {\n\n\tvar _parseJSON = function (_json, _paymentProductFields, _paymentProductFieldById) {\n\t\tif (_json.fields) {\n\t\t\tfor (var i = 0, il = _json.fields.length; i < il; i++) {\n\t\t\t\tvar paymentProductField = new PaymentProductField(_json.fields[i]);\n\t\t\t\t_paymentProductFields.push(paymentProductField);\n\t\t\t\t_paymentProductFieldById[paymentProductField.id] = paymentProductField;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar PaymentProduct = function (json) {\n\t\tvar basicPaymentProduct = new BasicPaymentProduct(json);\n\t\tbasicPaymentProduct.paymentProductFields = [];\n\t\tbasicPaymentProduct.paymentProductFieldById = {};\n\n\t\t_parseJSON(basicPaymentProduct.json, basicPaymentProduct.paymentProductFields, basicPaymentProduct.paymentProductFieldById);\n\n\t\treturn basicPaymentProduct;\n\t};\n\n\tconnectsdk.PaymentProduct = PaymentProduct;\n\treturn PaymentProduct;\n});\n","define(\"connectsdk.PaymentProductGroup\", [\"connectsdk.core\", \"connectsdk.BasicPaymentProduct\", \"connectsdk.PaymentProductField\"], function(connectsdk, BasicPaymentProduct, PaymentProductField) {\n\n\tvar _parseJSON = function (_json, _paymentProductFields, _paymentProductFieldById) {\n\t\tif (_json.fields) {\n\t\t\tfor (var i = 0, il = _json.fields.length; i < il; i++) {\n\t\t\t\tvar paymentProductField = new PaymentProductField(_json.fields[i]);\n\t\t\t\t_paymentProductFields.push(paymentProductField);\n\t\t\t\t_paymentProductFieldById[paymentProductField.id] = paymentProductField;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar PaymentProductGroup = function (json) {\n\t\tvar basicPaymentProduct = new BasicPaymentProduct(json);\n\t\tbasicPaymentProduct.json = json;\n\t\tbasicPaymentProduct.json.type = \"group\";\n\t\tbasicPaymentProduct.paymentProductFields = [];\n\t\tbasicPaymentProduct.paymentProductFieldById = {};\n\n\t\t_parseJSON(basicPaymentProduct.json, basicPaymentProduct.paymentProductFields, basicPaymentProduct.paymentProductFieldById);\n\n\t\treturn basicPaymentProduct;\n\t};\n\n\tconnectsdk.PaymentProductGroup = PaymentProductGroup;\n\treturn PaymentProductGroup;\n});","define(\"connectsdk.BasicPaymentProducts\", [\"connectsdk.core\", \"connectsdk.BasicPaymentProduct\"], function(connectsdk, BasicPaymentProduct) {\n\n\tvar _parseJson = function (_json, _paymentProducts, _accountsOnFile, _paymentProductById, _accountOnFileById, _paymentProductByAccountOnFileId) {\n\t\tif (_json.paymentProducts) {\n\t\t\tfor (var i = 0, il = _json.paymentProducts.length; i < il; i++) {\n\t\t\t\tvar paymentProduct = new BasicPaymentProduct(_json.paymentProducts[i]);\n\t\t\t\t_paymentProducts.push(paymentProduct);\n\t\t\t\t_paymentProductById[paymentProduct.id] = paymentProduct;\n\n\t\t\t\tif (paymentProduct.accountsOnFile) {\n\t\t\t\t\tvar aofs = paymentProduct.accountsOnFile;\n\t\t\t\t\tfor (var j = 0, jl = aofs.length; j < jl; j++) {\n\t\t\t\t\t\tvar aof = aofs[j];\n\t\t\t\t\t\t_accountsOnFile.push(aof);\n\t\t\t\t\t\t_accountOnFileById[aof.id] = aof;\n\t\t\t\t\t\t_paymentProductByAccountOnFileId[aof.id] = paymentProduct;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar BasicPaymentProducts = function (json) {\n\t\tthis.basicPaymentProducts = [];\n\t\tthis.basicPaymentProductById = {};\n\t\tthis.basicPaymentProductByAccountOnFileId = {};\n\t\tthis.accountsOnFile = [];\n\t\tthis.accountOnFileById = {};\n\t\tthis.json = json;\n\n\t\t_parseJson(json, this.basicPaymentProducts, this.accountsOnFile, this.basicPaymentProductById, this.accountOnFileById, this.basicPaymentProductByAccountOnFileId);\n\t};\n\n\tconnectsdk.BasicPaymentProducts = BasicPaymentProducts;\n\treturn BasicPaymentProducts;\n});","define(\"connectsdk.BasicPaymentProductGroups\", [\"connectsdk.core\", \"connectsdk.BasicPaymentProductGroup\"], function(connectsdk, BasicPaymentProductGroup) {\n\n\tvar _parseJson = function (_json, _paymentProductGroups, _accountsOnFile, _paymentProductGroupById, _accountOnFileById) {\n\t\tif (_json.paymentProductGroups) {\n\t\t\tfor (var i = 0, il = _json.paymentProductGroups.length; i < il; i++) {\n\t\t\t\tvar paymentProductGroup = new BasicPaymentProductGroup(_json.paymentProductGroups[i]);\n\t\t\t\t_paymentProductGroups.push(paymentProductGroup);\n\t\t\t\t_paymentProductGroupById[paymentProductGroup.id] = paymentProductGroup;\n\n\t\t\t\tif (paymentProductGroup.accountsOnFile) {\n\t\t\t\t\tvar aofs = paymentProductGroup.accountsOnFile;\n\t\t\t\t\tfor (var j = 0, jl = aofs.length; j < jl; j++) {\n\t\t\t\t\t\tvar aof = aofs[j];\n\t\t\t\t\t\t_accountsOnFile.push(aof);\n\t\t\t\t\t\t_accountOnFileById[aof.id] = aof;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tvar BasicPaymentProductGroups = function (json) {\n\t\tthis.basicPaymentProductGroups = [];\n\t\tthis.basicPaymentProductGroupById = {};\n\t\tthis.accountsOnFile = [];\n\t\tthis.accountOnFileById = {};\n\t\tthis.json = json;\n\n\t\t_parseJson(json, this.basicPaymentProductGroups, this.accountsOnFile, this.basicPaymentProductGroupById, this.accountOnFileById);\n\t};\n\n\tconnectsdk.BasicPaymentProductGroups = BasicPaymentProductGroups;\n\treturn BasicPaymentProductGroups;\n});","define(\"connectsdk.BasicPaymentItems\", [\"connectsdk.core\"], function(connectsdk) {\n\t\"use strict\";\n\n\t\tvar _parseJson = function (_products, _groups, _basicPaymentItems) {\n\t\tvar doRemove = [];\n\t\tif (_groups) {\n\t\t\tfor (var i = 0, il = _groups.basicPaymentProductGroups.length; i < il; i++) {\n\t\t\t\tvar groupId = _groups.basicPaymentProductGroups[i].id,\n\t\t\t\t\t\tgroupReplaced = false;\n\t\t\t\tfor (var j = 0, jl = _products.basicPaymentProducts.length; j < jl; j++) {\n\t\t\t\t\tvar productMethod = _products.basicPaymentProducts[j].paymentProductGroup;\n\t\t\t\t\tif (productMethod === groupId && groupReplaced === false) {\n\t\t\t\t\t\t// replace instance by group\n\t\t\t\t\t\t_products.basicPaymentProducts.splice(j, 1, _groups.basicPaymentProductGroups[i]);\n\t\t\t\t\t\tgroupReplaced = true;\n\t\t\t\t\t} else if (productMethod === groupId && groupReplaced === true) {\n\t\t\t\t\t\t// mark for removal\n\t\t\t\t\t\tdoRemove.push(j);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = doRemove.length -1, il = 0; i >= il; i--) {\n\t\t\t\t_products.basicPaymentProducts.splice(doRemove[i], 1);\n\t\t\t}\n\t\t}\n\t\t_basicPaymentItems.basicPaymentItems = JSON.parse(JSON.stringify(_products.basicPaymentProducts));\n\t\tfor (var i = 0, il = _basicPaymentItems.basicPaymentItems.length; i < il; i++) {\n\t\t\tvar basicPaymentItem = _basicPaymentItems.basicPaymentItems[i];\n\t\t\t_basicPaymentItems.basicPaymentItemById[basicPaymentItem.id] = basicPaymentItem;\n\t\t\tif (basicPaymentItem.accountsOnFile) {\n\t\t\t\tvar aofs = basicPaymentItem.accountsOnFile;\n\t\t\t\tfor (var j = 0, jl = aofs.length; j < jl; j++) {\n\t\t\t\t\tvar aof = aofs[j];\n\t\t\t\t\t_basicPaymentItems.accountsOnFile.push(aof);\n\t\t\t\t\t_basicPaymentItems.accountOnFileById[aof.id] = aof;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\n\tvar BasicPaymentItems = function (products, groups) {\n\t\tthis.basicPaymentItems = [];\n\t\tthis.basicPaymentItemById = {};\n\t\tthis.accountsOnFile = [];\n\t\tthis.accountOnFileById = {};\n\t\t_parseJson(products, groups, this);\n\t};\n\tconnectsdk.BasicPaymentItems = BasicPaymentItems;\n\treturn BasicPaymentItems;\n});","define(\"connectsdk.PaymentRequest\", [\"connectsdk.core\"], function(connectsdk) {\n  var PaymentRequest = function(clientSessionID) {\n    var _clientSessionID = clientSessionID;\n    var _fieldValues = {};\n    var _paymentProduct = null;\n    var _accountOnFile = null;\n    var _tokenize = false;\n\n    this.isValid = function() {\n      var errors = this.getErrorMessageIds();\n      // besides checking the fields for errors check if all mandatory fields are present as well\n      var paymentProduct = this.getPaymentProduct();\n      if (!paymentProduct) {\n        return false;\n      }\n      var allRequiredFieldsPresent = true;\n      for (var i = 0; i < paymentProduct.paymentProductFields.length; i++) {\n        var field = paymentProduct.paymentProductFields[i];\n        if (field.dataRestrictions.isRequired) {\n          // is this field present in the request?\n          var storedValue = this.getValue(field.id);\n          if (!storedValue && !this.getAccountOnFile()) {\n              // if we have an acoount on file the account on file could have the field, so we can ignore it\n            allRequiredFieldsPresent = false;\n          }\n        }\n      }\n      return errors.length === 0 && allRequiredFieldsPresent;\n    };\n    this.setValue = function(paymentProductFieldId, value) {\n      _fieldValues[paymentProductFieldId] = value;\n    };\n    this.setTokenize = function(tokenize) {\n      _tokenize = tokenize;\n    };\n    this.getTokenize = function() {\n      return _tokenize;\n    };\n    this.getErrorMessageIds = function() {\n      var errors = [];\n      for (key in _fieldValues) {\n        var paymentProductField = _paymentProduct.paymentProductFieldById[key];\n        if (paymentProductField) {\n          errors = errors.concat(paymentProductField.getErrorCodes(_fieldValues[key]));\n        }\n      }\n      return errors;\n    };\n    this.getValue = function(paymentProductFieldId) {\n      return _fieldValues[paymentProductFieldId];\n    };\n    this.getValues = function() {\n      return _fieldValues;\n    };\n    this.getMaskedValue = function(paymentProductFieldId) {\n      var paymentProductField = _paymentProduct.paymentProductFieldById[paymentProductFieldId];\n      var maskedString = paymentProductField.applyMask(this.getValue(paymentProductFieldId));\n      return maskedString.formattedValue();\n    };\n    this.getMaskedValues = function() {\n      var fields = _fieldValues;\n      var result = [];\n      for (var paymentProductFieldId in fields) {\n        var paymentProductField = _paymentProduct.paymentProductFieldById[paymentProductFieldId];\n        var maskedString = paymentProductField.applyMask(this.getValue(paymentProductFieldId));\n        result[paymentProductFieldId] = maskedString.formattedValue;\n      }\n      return result;\n    };\n    this.getUnmaskedValues = function() {\n      var fields = _fieldValues;\n      var result = [];\n      for (var paymentProductFieldId in fields) {\n        var paymentProductField = _paymentProduct.paymentProductFieldById[paymentProductFieldId];\n        if (paymentProductField) {\n          var maskedString = paymentProductField.applyMask(this.getValue(paymentProductFieldId));\n          var formattedValue = maskedString.formattedValue;\n          result[paymentProductFieldId] = paymentProductField.removeMask(formattedValue);\n        }\n      }\n      return result;\n    };\n    this.setPaymentProduct = function(paymentProduct) {\n      if (paymentProduct.type === \"group\") {\n        return;\n      }\n      _paymentProduct = paymentProduct;\n    };\n    this.getPaymentProduct = function() {\n      return _paymentProduct;\n    };\n    this.setAccountOnFile = function(accountOnFile) {\n      for (var i = 0, il = accountOnFile.attributes.length; i < il; i++) {\n        var attribute = accountOnFile.attributes[i];\n        delete _fieldValues[attribute.key];\n      }\n      _accountOnFile = accountOnFile;\n    };\n    this.getAccountOnFile = function() {\n      return _accountOnFile;\n    };\n    this.getClientSessionID = function() {\n\t\t    return clientSessionID;\n    };\n  };\n  connectsdk.PaymentRequest = PaymentRequest;\n  return PaymentRequest;\n});","define(\"connectsdk.C2SPaymentProductContext\", [\"connectsdk.core\"], function(connectsdk) {\n\n    var C2SPaymentProductContext = function (payload) {\n        this.totalAmount = typeof payload.totalAmount !== 'undefined' ? payload.totalAmount : '';\n        this.countryCode = payload.countryCode;\n        this.isRecurring = typeof payload.isRecurring !== 'undefined' ? payload.isRecurring : '';\n        this.currency = payload.currency;\n\n        if (typeof payload.locale !== 'undefined') {\n            this.locale = payload.locale;\n        }\n\n        if (typeof payload.accountOnFileId !== 'undefined') {\n            this.accountOnFileId = parseInt(payload.accountOnFileId);\n        }\n    };\n\n  connectsdk.C2SPaymentProductContext = C2SPaymentProductContext;\n  return C2SPaymentProductContext;\n});\n","define(\"connectsdk.JOSEEncryptor\", [\"connectsdk.core\"], function(connectsdk) {\n\n\tvar pki = forge.pki;\n\tvar asn1 = forge.asn1;\n\tvar CEKKEYLENGTH = 512;\n\tvar IVLENGTH = 128;\n\n\tvar base64UrlEncode = function(str) {\n\t\tstr = forge.util.encode64(str);\n\t\tstr = str.split('=')[0];\n\t\tstr = str.replace(/\\+/g, '-');\n\t\tstr = str.replace(/\\//g, '_');\n\t\treturn str;\n\t};\n\n\tvar createProtectedHeader = function(kid) {\n\t\tvar JOSEHeader = {\n\t\t\t\"alg\" : \"RSA-OAEP\",\n\t\t\t\"enc\" : \"A256CBC-HS512\",\n\t\t\t\"kid\" : kid\n\t\t};\n\t\treturn JSON.stringify(JOSEHeader);\n\t};\n\n\tvar decodePemPublicKey = function(publickeyB64Encoded) {\n\t\t// step 1: base64decode\n\t\tvar publickeyB64Decoded = forge.util.decode64(publickeyB64Encoded);\n\t\t// create a bytebuffer with these bytes\n\t\tvar buffer2 = forge.util.createBuffer(publickeyB64Decoded, 'raw');\n\t\t// convert DER to ASN1 object\n\t\tvar publickeyObject2 = forge.asn1.fromDer(buffer2);\n\t\t// convert to publicKey object\n\t\tvar publicKey2 = pki.publicKeyFromAsn1(publickeyObject2);\n\t\treturn publicKey2;\n\t};\n\n\tvar encryptContentEncryptionKey = function(CEK, publicKey) {\n\t\t// encrypt CEK with OAEP+SHA-1+MGF1Padding\n\t\tvar encryptedCEK = publicKey.encrypt(CEK, 'RSA-OAEP');\n\t\treturn encryptedCEK;\n\t};\n\n\tvar encryptPayload = function(payload, encKey, initializationVector) {\n\t\tvar cipher = forge.cipher.createCipher('AES-CBC', encKey);\n\t\tcipher.start({\n\t\t\tiv : initializationVector\n\t\t});\n\t\tcipher.update(forge.util.createBuffer(payload));\n\t\tcipher.finish();\n\t\treturn cipher.output.bytes();\n\t};\n\n\tvar calculateAdditionalAuthenticatedDataLength = function(encodededProtectedHeader) {\n\t\tvar buffer = forge.util.createBuffer(encodededProtectedHeader);\n\t\tvar lengthInBits = buffer.length() * 8;\n\n\t\tvar buffer2 = forge.util.createBuffer();\n\t\t// convert int to 64bit big endian\n\t\tbuffer2.putInt32(0);\n\t\tbuffer2.putInt32(lengthInBits);\n\t\treturn buffer2.bytes();\n\t};\n\n\tvar calculateHMAC = function(macKey, encodededProtectedHeader, initializationVector, cipherText, al) {\n\t\tvar buffer = forge.util.createBuffer();\n\t\tbuffer.putBytes(encodededProtectedHeader);\n\t\tbuffer.putBytes(initializationVector);\n\t\tbuffer.putBytes(cipherText);\n\t\tbuffer.putBytes(al);\n\n\t\tvar hmacInput = buffer.bytes();\n\n\t\tvar hmac = forge.hmac.create();\n\t\thmac.start(forge.sha512.create(), macKey);\n\t\thmac.update(hmacInput);\n\t\treturn hmac.digest().bytes();\n\t};\n\n\tvar JOSEEncryptor = function() {\n\n\t\tthis.encrypt = function(plainTextValues, publicKeyResponse) {\n\t\t\t// Create protected header and encode it with Base64 encoding\n\t\t\tvar payload = JSON.stringify(plainTextValues);\n\t\t\tvar protectedHeader = createProtectedHeader(publicKeyResponse.keyId);\n\t\t\tvar encodededProtectedHeader = base64UrlEncode(protectedHeader);\n\n\t\t\t// Create ContentEncryptionKey, is a random byte[]\n\t\t\tvar CEK = forge.random.getBytesSync(CEKKEYLENGTH / 8);\n\t\t\tvar publicKey = decodePemPublicKey(publicKeyResponse.publicKey);\n\n\t\t\t// Encrypt the contentEncryptionKey with the GC gateway publickey and encode it with Base64 encoding\n\t\t\tvar encryptedContentEncryptionKey = encryptContentEncryptionKey(CEK, publicKey);\n\t\t\tvar encodedEncryptedContentEncryptionKey = base64UrlEncode(encryptedContentEncryptionKey);\n\n\t\t\t// Split the contentEncryptionKey in ENC_KEY and MAC_KEY for using hmac\n\t\t\tvar macKey = CEK.substring(0, CEKKEYLENGTH / 2 / 8);\n\t\t\tvar encKey = CEK.substring(CEKKEYLENGTH / 2 / 8);\n\n\t\t\t// Create Initialization Vector\n\t\t\tvar initializationVector = forge.random.getBytesSync(IVLENGTH / 8);\n\t\t\tvar encodededinitializationVector = base64UrlEncode(initializationVector);\n\n\t\t\t// Encrypt content with ContentEncryptionKey and Initialization Vector\n\t\t\tvar cipherText = encryptPayload(payload, encKey, initializationVector);\n\t\t\tvar encodedCipherText = base64UrlEncode(cipherText);\n\n\t\t\t// Create Additional Authenticated Data  and Additional Authenticated Data Length\n\t\t\tvar al = calculateAdditionalAuthenticatedDataLength(encodededProtectedHeader);\n\n\t\t\t// Calculates HMAC\n\t\t\tvar calculatedHmac = calculateHMAC(macKey, encodededProtectedHeader, initializationVector, cipherText, al);\n\n\t\t\t// Truncate HMAC Value to Create Authentication Tag\n\t\t\tvar authenticationTag = calculatedHmac.substring(0, calculatedHmac.length / 2);\n\t\t\tvar encodedAuthenticationTag = base64UrlEncode(authenticationTag);\n\n\t\t\treturn encodededProtectedHeader + \".\" + encodedEncryptedContentEncryptionKey + \".\" + encodededinitializationVector + \".\" + encodedCipherText + \".\" + encodedAuthenticationTag;\n\t\t};\n\t};\n\n\tconnectsdk.JOSEEncryptor = JOSEEncryptor;\n\treturn JOSEEncryptor;\n});","define(\"connectsdk.Encryptor\", [\"connectsdk.core\", \"connectsdk.promise\", \"connectsdk.JOSEEncryptor\", \"connectsdk.Util\"], function(connectsdk, Promise, JOSEEncryptor, Util) {\n\n\tvar _util = Util.getInstance();\n\n\tvar Encryptor = function(publicKeyResponsePromise) {\n\t\tthis.encrypt = function(paymentRequest) {\n\t\t\tvar promise = new Promise();\n\t\t\tvar encryptedString = '';\n\t\t\tpublicKeyResponsePromise.then(function (publicKeyResponse) {\n\t\t\t\tif (paymentRequest.isValid()) {\n\n\t\t\t\t\tvar blob = {\n\t\t\t\t\t   clientSessionId: paymentRequest.getClientSessionID()\n\t\t\t\t\t   ,nonce: forge.util.bytesToHex(forge.random.getBytesSync(16))\n\t\t\t\t\t   ,paymentProductId: paymentRequest.getPaymentProduct().id\n                       ,tokenize: paymentRequest.getTokenize()\n                    };\n\n\t\t\t\t\tif (paymentRequest.getAccountOnFile()) {\n                        blob[\"accountOnFileId\"] = paymentRequest.getAccountOnFile().id;\n                    }\n\n                    var paymentValues = [], values = paymentRequest.getUnmaskedValues();\n                    var ownValues = Object.getOwnPropertyNames(values);\n\t\t\t\t\tfor (var i = 0; i < ownValues.length; i++) {\n\t\t\t\t\t\tvar propertyName = ownValues[i];\n\t\t\t\t\t\tif (propertyName !== \"length\") {\n\t\t\t\t\t\t\tpaymentValues.push({\n\t\t\t\t\t\t\t\tkey: propertyName,\n\t\t\t\t\t\t\t\tvalue: values[propertyName]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n                    blob[\"paymentValues\"] = paymentValues;\n\n\t\t\t\t\tblob[\"collectedDeviceInformation\"] = _util.collectDeviceInformation();\n\n\t\t\t\t\t// use blob to encrypt\n\t\t\t\t\tvar joseEncryptor = new JOSEEncryptor();\n\t\t\t\t\tencryptedString = joseEncryptor.encrypt(blob, publicKeyResponse);\n\t\t\t\t\tpromise.resolve(encryptedString);\n\t\t\t\t} else {\n\t\t\t\t\tpromise.reject(paymentRequest.getErrorMessageIds());\n\t\t\t\t}\n\t\t\t}, function (error) {\n\t\t\t\tpromise.reject(error);\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\t};\n\n\tconnectsdk.Encryptor = Encryptor;\n\treturn Encryptor;\n});\n","define(\"connectsdk.Session\", [\"connectsdk.core\", \"connectsdk.C2SCommunicator\", \"connectsdk.C2SCommunicatorConfiguration\", \"connectsdk.IinDetailsResponse\", \"connectsdk.promise\", \"connectsdk.C2SPaymentProductContext\", \"connectsdk.BasicPaymentProducts\", \"connectsdk.BasicPaymentProductGroups\", \"connectsdk.PaymentProduct\", \"connectsdk.PaymentProductGroup\", \"connectsdk.BasicPaymentItems\", \"connectsdk.PaymentRequest\", \"connectsdk.Encryptor\"], function (connectsdk, C2SCommunicator, C2SCommunicatorConfiguration, IinDetailsResponse, Promise, C2SPaymentProductContext, BasicPaymentProducts, BasicPaymentProductGroups, PaymentProduct, PaymentProductGroup, BasicPaymentItems, PaymentRequest, Encryptor) {\n\tvar APIVERSION = \"client/v1\";\n\tvar session = function (sessionDetails, paymentProduct) {\n\n\t\tvar _c2SCommunicatorConfiguration = new C2SCommunicatorConfiguration(sessionDetails, APIVERSION),\n\t\t\t_c2sCommunicator = new C2SCommunicator(_c2SCommunicatorConfiguration, paymentProduct),\n\t\t\t_session = this,\n\t\t\t_paymentProductId, _paymentProduct, _paymentRequestPayload, _paymentRequest, _paymentProductGroupId, _paymentProductGroup;\n\t\tthis.clientApiUrl = _c2SCommunicatorConfiguration.clientApiUrl;\n\t\tthis.assetUrl = _c2SCommunicatorConfiguration.assetUrl;\n\n\t\tthis.getBasicPaymentProducts = function (paymentRequestPayload, paymentProductSpecificInputs) {\n\t\t\tvar promise = new Promise();\n\t\t\tvar c2SPaymentProductContext = new C2SPaymentProductContext(paymentRequestPayload);\n\t\t\t_c2sCommunicator.getBasicPaymentProducts(c2SPaymentProductContext, paymentProductSpecificInputs).then(function (json) {\n\t\t\t\t_paymentRequestPayload = paymentRequestPayload;\n\t\t\t\tvar paymentProducts = new BasicPaymentProducts(json);\n\t\t\t\tpromise.resolve(paymentProducts);\n\t\t\t}, function () {\n\t\t\t\tpromise.reject();\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getBasicPaymentProductGroups = function (paymentRequestPayload) {\n\t\t\tvar promise = new Promise();\n\t\t\tvar c2SPaymentProductContext = new C2SPaymentProductContext(paymentRequestPayload);\n\t\t\t_c2sCommunicator.getBasicPaymentProductGroups(c2SPaymentProductContext).then(function (json) {\n\t\t\t\t_paymentRequestPayload = paymentRequestPayload;\n\t\t\t\tvar paymentProductGroups = new BasicPaymentProductGroups(json);\n\t\t\t\tpromise.resolve(paymentProductGroups);\n\t\t\t}, function () {\n\t\t\t\tpromise.reject();\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getBasicPaymentItems = function (paymentRequestPayload, useGroups, paymentProductSpecificInputs) {\n\t\t\tvar promise = new Promise();\n\t\t\t// get products & groups\n\t\t\tif (useGroups) {\n\t\t\t\t_session.getBasicPaymentProducts(paymentRequestPayload, paymentProductSpecificInputs).then(function (products) {\n\t\t\t\t\t_session.getBasicPaymentProductGroups(paymentRequestPayload).then(function (groups) {\n\t\t\t\t\t\tvar basicPaymentItems = new BasicPaymentItems(products, groups);\n\t\t\t\t\t\tpromise.resolve(basicPaymentItems);\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\tpromise.reject();\n\t\t\t\t\t});\n\t\t\t\t}, function () {\n\t\t\t\t\tpromise.reject();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t_session.getBasicPaymentProducts(paymentRequestPayload, paymentProductSpecificInputs).then(function (products) {\n\t\t\t\t\tvar basicPaymentItems = new BasicPaymentItems(products, null);\n\t\t\t\t\tpromise.resolve(basicPaymentItems);\n\t\t\t\t}, function () {\n\t\t\t\t\tpromise.reject();\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProduct = function (paymentProductId, paymentRequestPayload, paymentProductSpecificInputs) {\n\t\t\tvar promise = new Promise();\n\t\t\t_paymentProductId = paymentProductId;\n\t\t\tvar c2SPaymentProductContext = new C2SPaymentProductContext(_paymentRequestPayload || paymentRequestPayload);\n\t\t\t_c2sCommunicator.getPaymentProduct(paymentProductId, c2SPaymentProductContext, paymentProductSpecificInputs).then(function (response) {\n\t\t\t\t_paymentProduct = new PaymentProduct(response);\n\t\t\t\tpromise.resolve(_paymentProduct);\n\t\t\t}, function () {\n\t\t\t\t_paymentProduct = null;\n\t\t\t\tpromise.reject();\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProductGroup = function (paymentProductGroupId, paymentRequestPayload) {\n\t\t\tvar promise = new Promise();\n\t\t\t_paymentProductGroupId = paymentProductGroupId;\n\t\t\tvar c2SPaymentProductContext = new C2SPaymentProductContext(_paymentRequestPayload || paymentRequestPayload);\n\t\t\t_c2sCommunicator.getPaymentProductGroup(paymentProductGroupId, c2SPaymentProductContext).then(function (response) {\n\t\t\t\t_paymentProductGroup = new PaymentProductGroup(response);\n\t\t\t\tpromise.resolve(_paymentProductGroup);\n\t\t\t}, function () {\n\t\t\t\t_paymentProductGroup = null;\n\t\t\t\tpromise.reject();\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getIinDetails = function (partialCreditCardNumber, paymentRequestPayload) {\n\t\t\tpartialCreditCardNumber = partialCreditCardNumber.replace(/ /g, '').substring(0, 6);\n\t\t\tvar c2SPaymentProductContext = new C2SPaymentProductContext(_paymentRequestPayload || paymentRequestPayload);\n\t\t\treturn _c2sCommunicator.getPaymentProductIdByCreditCardNumber(partialCreditCardNumber, c2SPaymentProductContext);\n\t\t};\n\n\t\tthis.getPublicKey = function () {\n\t\t\treturn _c2sCommunicator.getPublicKey();\n\t\t};\n\n\t\tthis.getPaymentProductNetworks = function (paymentProductId, paymentRequestPayload) {\n\t\t\tvar promise = new Promise();\n\t\t\tvar c2SPaymentProductContext = new C2SPaymentProductContext(paymentRequestPayload);\n\t\t\t_c2sCommunicator.getPaymentProductNetworks(paymentProductId, c2SPaymentProductContext).then(function (response) {\n\t\t\t\t_paymentRequestPayload = paymentRequestPayload;\n\t\t\t\tpromise.resolve(response);\n\t\t\t}, function () {\n\t\t\t\tpromise.reject();\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getPaymentProductDirectory = function (paymentProductId, currencyCode, countryCode) {\n\t\t\treturn _c2sCommunicator.getPaymentProductDirectory(paymentProductId, currencyCode, countryCode);\n\t\t};\n\n\t\tthis.convertAmount = function (amount, source, target) {\n\t\t\treturn _c2sCommunicator.convertAmount(amount, source, target);\n\t\t};\n\n\t\tthis.getPaymentRequest = function () {\n\t\t\tif (!_paymentRequest) {\n\t\t\t\t_paymentRequest = new PaymentRequest(_c2SCommunicatorConfiguration.clientSessionId);\n\t\t\t}\n\t\t\treturn _paymentRequest;\n\t\t};\n\n\t\tthis.getEncryptor = function () {\n\t\t\tvar publicKeyResponsePromise = _c2sCommunicator.getPublicKey();\n\t\t\treturn new Encryptor(publicKeyResponsePromise);\n\t\t};\n\n\t\tthis.getThirdPartyPaymentStatus = function (paymentId) {\n\t\t\tvar promise = new Promise();\n\t\t\t_c2sCommunicator.getThirdPartyPaymentStatus(paymentId).then(function (response) {\n\t\t\t\tpromise.resolve(response);\n\t\t\t}, function () {\n\t\t\t\tpromise.reject();\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.getCustomerDetails = function (paymentProductId, paymentRequestPayload) {\n\t\t\treturn _c2sCommunicator.getCustomerDetails(paymentProductId, paymentRequestPayload);\n\t\t};\n\n\t\t/* In case a full JSON representation of a payment product is already available in context,\n\t\t   this method can be used instead of getPaymentProduct for the same (but synchronous) result. */\n\t\tthis.transformPaymentProductJSON = function(json) {\n\t\t\treturn new PaymentProduct(_c2sCommunicator.transformPaymentProductJSON(json))\n\t\t};\n\n\t\t/* In case a full JSON representation of a payment product group is already available in context,\n\t\t   this method can be used instead of getPaymentProductGroup for the same (but synchronous) result. */\n\t\tthis.transformPaymentProductGroupJSON = function(json) {\n\t\t\treturn new PaymentProductGroup(_c2sCommunicator.transformPaymentProductJSON(json))\n\t\t};\n\t};\n\tconnectsdk.Session = session;\n\treturn session;\n});\n"]}